!function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){function i(t){return g.isNil(t)?w:t}function r(t){return g.isFunction(t)?t.apply(this,[].slice.call(arguments,1)):t}function o(t){return g.apply(d,t),y=new m(d.DBName,function(){y.getAll(function(t){t.forEach(function(t){E.set(t.selector,t.capture_id,t.htm)}),d.onReady&&d.onReady(p)})}),p}function u(t,n){n=n||{};var e,o;return e=g.isNil(n.id)?i(n.id):r(n.id,t),o=g.isNil(n.html)?g.html(t):r(n.html,t),E.set(t,e,o),y.add(t,e,o),p}function s(t,n){n=n||{};var e,o;return e=g.isNil(n.id)?i(n.id):r(n.id,t),o=h(t,e),g.html(t,o),n.fallback&&g.isNil(o)&&n.fallback(),p}function a(t,n){n=n||{};var e=g.isArray(t)?t:[t];return e.forEach(function(t){S.watch(t,function(){u(t,{id:n.id,html:n.html})})}),p}function h(t,n){return E.get(t,n)}function c(t){return E.get(t)}function f(t,n){return E.del(t,n),y["delete"](t,n),p}function l(){return y.deleteAll(),E.empty(),p}var p,d,y,g=e(1),b=e(3),v=e(4),m=e(2),w="DEFAULT_CAPTURE_ID",E=new b,S=new v;d={},p={capture:u,resume:s,watch:a,get:h,getAll:c,remove:f,clear:l},window.DOMSnap=o,t.exports=o},function(t,n){function e(t){return void 0==t||null==t||0==t}function i(t){return"function"==typeof t}function r(t){return"[object Array]"===toString.call(t)}function o(t,n,e){var r=i(n)?n.call(t):n;if(r){var o;for(o in r)t[o]=e?e(r[o]):r[o]}}function u(t){return document.querySelector(t)}function s(t,n){var i=u(t);return e(n)?i.innerHTML:i.innerHTML=n}var a=navigator.userAgent,h=a.match(/(Android);?[\s\/]+([\d.]+)?/),c=a.match(/(iPad).*OS\s([\d_]+)/),f=a.match(/(iPod)(.*OS\s([\d_]+))?/),l=!c&&a.match(/(iPhone\sOS)\s([\d_]+)/),p={};h&&(p.android=!0,p.version=h[2]),l&&!f&&(p.ios=p.iphone=!0,p.version=l[2].replace(/_/g,".")),c&&(p.ios=p.ipad=!0,p.version=c[2].replace(/_/g,".")),f&&(p.ios=p.ipod=!0,p.version=f[3]?f[3].replace(/_/g,"."):null),n.os=p,n.isNil=e,n.isFunction=i,n.isArray=r,n.apply=o,n.el=u,n.html=s},function(t,n,e){var i=e(1),r=e(5),o=o||r;t.exports=function(t,n){var e,r,u=o.schema.create(t||"DOMSnap_DB",3);u.createTable("Snap").addColumn("id",o.Type.INTEGER).addColumn("selector",o.Type.STRING).addColumn("capture_id",o.Type.STRING).addColumn("htm",o.Type.OBJECT).addColumn("create",o.Type.DATE_TIME).addPrimaryKey(["id"],!0),u.connect({storeType:i.os.ios?o.schema.DataStoreType.WEB_SQL:null}).then(function(t){e=t,r=e.getSchema().table("Snap"),n&&n()}),this.add=function(t,n,o){!i.isNil(t)&&!i.isNil(n)&&this["delete"](t,n,function(){var i=r.createRow({selector:t,capture_id:n,htm:o,create:new Date});e.insertOrReplace().into(r).values([i]).exec()})},this["delete"]=function(t,n,i){e["delete"]().from(r).where(o.op.and(r.selector.eq(t),r.capture_id.eq(n))).exec().then(function(){i&&i()})},this.getAll=function(t){e.select().from(r).orderBy(r.id,o.Order.DESC).exec().then(function(n){t&&t(n)})},this.deleteAll=function(){e["delete"]().from(r).exec()}}},function(t,n,e){function i(){var t={};this.get=function(n,e){return t[n]?r.isNil(e)?t[n]:t[n][e]:null},this.set=function(n,e,i){r.isNil(n)||r.isNil(e)||r.isNil(i)||(t[n]=t[n]||{},t[n][e]=i)},this.del=function(n,e){t[n]&&(r.isNil(e)?(t[n]=null,delete t[n]):(t[n][e]=null,delete t[n][e]))},this.empty=function(){t={}}}var r=e(1);t.exports=i},function(t,n,e){function i(){function t(t,e){n(t),i[t]=e}function n(t){var n=i[t];n&&(n.disconnect(),i[t]=null,delete i[t])}function e(t,n){return new o(n).observe(r.el(t),{attributes:!0,childList:!0,characterData:!0,subtree:!0})}var i={};this.watch=function(n,i){t(n,e(n,i))},this.unwatch=function(t){n(t)}}var r=e(1),o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;t.exports=i},function(t,n,e){(function(t){self.window||(window=self),function(){"use strict";function n(){return function(){}}function e(t){return function(n){this[t]=n}}function i(t){return function(){return this[t]}}function r(t){return function(){return t}}function o(t){return void 0!==t}function u(){}function s(t){var n=typeof t;if("object"==n){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return n;var e=Object.prototype.toString.call(t);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==n&&"undefined"==typeof t.call)return"object";return n}function a(t){return null!=t}function h(t){var n=s(t);return"array"==n||"object"==n&&"number"==typeof t.length}function c(t){return"string"==typeof t}function f(t){return"function"==s(t)}function l(t){return t[oh]||(t[oh]=++uh)}function p(t,n,e){return t.call.apply(t.bind,arguments)}function d(t,n,e){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,i),t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function y(t,n,e){return y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:d,y.apply(null,arguments)}function g(t,n){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function b(t,n){var e=t.split("."),i=rh;e[0]in i||!i.execScript||i.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)!e.length&&o(n)?i[r]=n:i=i[r]?i[r]:i[r]={}}function v(t,n){function e(){}e.prototype=n.prototype,t.hb=n.prototype,t.prototype=new e,t.prototype.constructor=t,t.Xg=function(t,e,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return n.prototype[e].apply(t,r)}}function m(t){if(Error.captureStackTrace)Error.captureStackTrace(this,m);else{var n=Error().stack;n&&(this.stack=n)}t&&(this.message=String(t))}function w(t){var n=0,e=sh(String(Dh)).split(".");t=sh(String(t)).split(".");for(var i=Math.max(e.length,t.length),r=0;0==n&&i>r;r++){var o=e[r]||"",u=t[r]||"",s=/(\d*)(\D*)/g,a=/(\d*)(\D*)/g;do{var h=s.exec(o)||["","",""],c=a.exec(u)||["","",""];if(0==h[0].length&&0==c[0].length)break;n=E(0==h[1].length?0:parseInt(h[1],10),0==c[1].length?0:parseInt(c[1],10))||E(0==h[2].length,0==c[2].length)||E(h[2],c[2])}while(0==n)}return n}function E(t,n){return n>t?-1:t>n?1:0}function S(t,n,e){this.rg=e,this.Rf=t,this.Mg=n,this.td=0,this.jd=null}function N(t,n,e){return 2>=arguments.length?Array.prototype.slice.call(t,n):Array.prototype.slice.call(t,n,e)}function T(t){for(var n=[],e=0;t>e;e++)n[e]=0;return n}function A(t){for(var n=[],e=0;e<arguments.length;e++){var i=arguments[e];if("array"==s(i))for(var r=0;r<i.length;r+=8192)for(var o=A.apply(null,N(i,r,r+8192)),u=0;u<o.length;u++)n.push(o[u]);else n.push(i)}return n}function q(t){var n,e=[],i=0;for(n in t)e[i++]=t[n];return e}function x(t){return-1!=ah.indexOf(t)}function j(){return x("Opera")||x("OPR")}function I(){return(x("Chrome")||x("CriOS"))&&!j()&&!x("Edge")}function C(t){rh.setTimeout(function(){throw t},0)}function O(){var t=rh.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!x("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var n=t.contentWindow,t=n.document;t.open(),t.write(""),t.close();var e="callImmediate"+Math.random(),i="file:"==n.location.protocol?"*":n.location.protocol+"//"+n.location.host,t=y(function(t){"*"!=i&&t.origin!=i||t.data!=e||this.port1.onmessage()},this);n.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){n.postMessage(e,i)}}}),"undefined"!=typeof t&&!x("Trident")&&!x("MSIE")){var n=new t,e={},i=e;return n.port1.onmessage=function(){if(o(e.next)){e=e.next;var t=e.Ge;e.Ge=null,t()}},function(t){i.next={Ge:t},i=i.next,n.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var n=document.createElement("SCRIPT");n.onreadystatechange=function(){n.onreadystatechange=null,n.parentNode.removeChild(n),n=null,t(),t=null},document.documentElement.appendChild(n)}:function(t){rh.setTimeout(t,0)}}function M(){this.Dd=this.rc=null}function k(){this.next=this.scope=this.Vd=null}function R(t,n){vh||D(),mh||(vh(),mh=!0),wh.add(t,n)}function D(){if(rh.Promise&&rh.Promise.resolve){var t=rh.Promise.resolve(void 0);vh=function(){t.then(B)}}else vh=function(){var t=B;!f(rh.setImmediate)||rh.Window&&rh.Window.prototype&&!x("Edge")&&rh.Window.prototype.setImmediate==rh.setImmediate?(gh||(gh=O()),gh(t)):rh.setImmediate(t)}}function B(){for(var t=null;t=wh.remove();){try{t.Vd.call(t.scope)}catch(n){C(n)}bh.put(t)}mh=!1}function L(t,n){if(this.Sa=0,this.qf=void 0,this.Yc=this.gc=this.F=null,this.hd=this.Td=!1,t!=u)try{var e=this;t.call(n,function(t){H(e,2,t)},function(t){H(e,3,t)})}catch(i){H(this,3,i)}}function P(){this.next=this.context=this.lc=this.Lc=this.child=null,this.Gd=!1}function F(t,n,e){var i=Eh.get();return i.Lc=t,i.lc=n,i.context=e,i}function U(t){if(t instanceof L)return t;var n=new L(u);return H(n,2,t),n}function _(t){return new L(function(n,e){e(t)})}function z(t,n,e){V(t,n,e,null)||R(g(n,t))}function G(t){return new L(function(n,e){var i=t.length,r=[];if(i)for(var o,u=function(t,e){i--,r[t]=e,0==i&&n(r)},s=function(t){e(t)},a=0;a<t.length;a++)o=t[a],z(o,g(u,a),s);else n(r)})}function J(){var t,n,e=new L(function(e,i){t=e,n=i});return new nt(e,t,n)}function W(t,n){t.gc||2!=t.Sa&&3!=t.Sa||Y(t),t.Yc?t.Yc.next=n:t.gc=n,t.Yc=n}function K(t,n,e,i){var r=F(null,null,null);return r.child=new L(function(t,u){r.Lc=n?function(e){try{var r=n.call(i,e);t(r)}catch(o){u(o)}}:t,r.lc=e?function(n){try{var r=e.call(i,n);!o(r)&&n instanceof tt?u(n):t(r)}catch(s){u(s)}}:u}),r.child.F=t,W(t,r),r.child}function H(t,n,e){0==t.Sa&&(t==e&&(n=3,e=new TypeError("Promise cannot resolve to itself")),t.Sa=1,V(e,t.Sg,t.Tg,t)||(t.qf=e,t.Sa=n,t.F=null,Y(t),3!=n||e instanceof tt||Q(t,e)))}function V(t,n,e,i){if(t instanceof L)return W(t,F(n||u,e||null,i)),!0;var r;if(t)try{r=!!t.$goog_Thenable}catch(o){r=!1}else r=!1;if(r)return t.then(n,e,i),!0;if(r=typeof t,"object"==r&&null!=t||"function"==r)try{var s=t.then;if(f(s))return X(t,s,n,e,i),!0}catch(o){return e.call(i,o),!0}return!1}function X(t,n,e,i,r){function o(t){s||(s=!0,i.call(r,t))}function u(t){s||(s=!0,e.call(r,t))}var s=!1;try{n.call(t,u,o)}catch(a){o(a)}}function Y(t){t.Td||(t.Td=!0,R(t.Yf,t))}function $(t){var n=null;return t.gc&&(n=t.gc,t.gc=n.next,n.next=null),t.gc||(t.Yc=null),n}function Z(t,n,e){2==n?t.Lc.call(t.context,e):t.lc&&t.lc.call(t.context,e)}function Q(t,n){t.hd=!0,R(function(){t.hd&&Sh.call(null,n)})}function tt(t){m.call(this,t)}function nt(t,n,e){this.ha=t,this.resolve=n,this.reject=e}function et(t,n,e,i){e=e||function(t,n){return t==n},i=i||function(n){return t[n]};for(var r=t.length,o=n.length,u=[],s=0;r+1>s;s++)u[s]=[],u[s][0]=0;for(var a=0;o+1>a;a++)u[0][a]=0;for(s=1;r>=s;s++)for(a=1;o>=a;a++)e(t[s-1],n[a-1])?u[s][a]=u[s-1][a-1]+1:u[s][a]=Math.max(u[s-1][a],u[s][a-1]);for(var h=[],s=r,a=o;s>0&&a>0;)e(t[s-1],n[a-1])?(h.unshift(i(s-1,a-1)),s--,a--):u[s-1][a]>u[s][a-1]?s--:a--;return h}function it(t){return lh(arguments,function(t,n){return t+n},0)}function rt(t){return it.apply(null,arguments)/arguments.length}function ot(t){var n=arguments.length;if(2>n)return 0;var e=rt.apply(null,arguments);return it.apply(null,fh(arguments,function(t){return Math.pow(t-e,2)}))/(n-1)}function ut(t){return Math.sqrt(ot.apply(null,arguments))}function st(){}function at(t){if(t instanceof st)return t;if("function"==typeof t.sc)return t.sc(!1);if(h(t)){var n=0,e=new st;return e.next=function(){for(;;){if(n>=t.length)throw Nh;if(n in t)return t[n++];n++}},e}throw Error("Not implemented")}function ht(t,n){if(h(t))try{ch(t,n,void 0)}catch(e){if(e!==Nh)throw e}else{t=at(t);try{for(;;)n.call(void 0,t.next(),void 0,t)}catch(e){if(e!==Nh)throw e}}}function ct(t){if(ph(arguments,function(t){return!t.length})||!arguments.length)return new st;var n=new st,e=arguments,i=T(e.length);return n.next=function(){if(i){for(var t=fh(i,function(t,n){return e[n][t]}),n=i.length-1;n>=0;n--){if(i[n]<e[n].length-1){i[n]++;break}if(0==n){i=null;break}i[n]=0}return t}throw Nh},n}function ft(t,n){this.l={},this.a=[],this.Ta=this.Gb=0;var e=arguments.length;if(e>1){if(e%2)throw Error("Uneven number of arguments");for(var i=0;e>i;i+=2)this.set(arguments[i],arguments[i+1])}else t&&this.addAll(t)}function lt(t){return pt(t),t.a.concat()}function pt(t){if(t.Gb!=t.a.length){for(var n=0,e=0;n<t.a.length;){var i=t.a[n];dt(t.l,i)&&(t.a[e++]=i),n++}t.a.length=e}if(t.Gb!=t.a.length){for(var r={},e=n=0;n<t.a.length;)i=t.a[n],dt(r,i)||(t.a[e++]=i,r[i]=1),n++;t.a.length=e}}function dt(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function yt(){return x("iPhone")&&!x("iPod")&&!x("iPad")}function gt(){this.qe=Uh||Ph||Lh,this.hg=!(this.qe||qh&&!Bh[10]&&!(Bh[10]=0<=w(10))),!qh||Bh[11]||(Bh[11]=0<=w(11)),this.Wg=Fh||Uh,this.wg=o(window.Map)&&o(window.Map.prototype.values)&&o(window.Map.prototype.forEach)&&!this.qe,this.xg=o(window.Set)&&o(window.Set.prototype.values)&&o(window.Set.prototype.forEach)&&!this.qe}function bt(){return o(Rh)||(Rh=new gt),Rh}function vt(){this.l=new ft,Object.defineProperty(this,"size",{get:function(){return this.l.Cc()}})}function mt(){return _h?new window.Map:new vt}function wt(t){if(t instanceof vt)return lt(t.l);var n=0,e=Array(t.size);return t.forEach(function(t,i){e[n++]=i}),e}function Et(t){if(t instanceof vt)return t.l.ra();var n=0,e=Array(t.size);return t.forEach(function(t){e[n++]=t}),e}function St(t,n){this.sa=t,this.m=n||this.Le()}function Nt(t){return new St(t.id,t.value)}function Tt(t){return new St(zh++,t||{})}function At(t){if(null==t)return null;t=new Uint8Array(t);for(var n="",e=0;e<t.length;++e)var i=t[e].toString(16),n=n+(2>i.length?"0"+i:i);return n}function qt(t,n,e,i,r){this.yd=t,this.lg=n,this.Vg=e,this.Tf=i,this.Lf=r}function xt(t,n){this.Ad=t,this.Qa=n||null,this.S=J(),this.yd=!1,this.za=null}function jt(t){try{An(t.Qa)}catch(n){return _(n)}return It(t).then(function(t){return this.Qa.ka(),t}.bind(t))}function It(t){return Ct(t),Ot(t),t.vc()}function Ct(t){t.Qa.ib.forEach(function(t,n){var e=this.Qa.da().get(n),e=this.H(e.getName(),e.mb.bind(e),0),i=Et(t.xa).map(function(t){return t.id()});0<i.length&&e.remove(i).we(this.Te,this),i=Et(t.ma).map(function(t){return t[1]}).concat(Et(t.wa)),e.put(i).we(this.Te,this)},t)}function Ot(t){En(t.Qa).forEach(function(t){var n=this.H(t.getName(),Nt,1);n.remove([]),n.put(t.Ja())},t)}function Mt(t){this.Ng=t}function kt(t){if(t.ra&&"function"==typeof t.ra)return t.ra();if(c(t))return t.split("");if(h(t)){for(var n=[],e=t.length,i=0;e>i;i++)n.push(t[i]);return n}return q(t)}function Rt(t){this.l=new ft,t&&this.addAll(t)}function Dt(t){var n=typeof t;return"object"==n&&t||"function"==n?"o"+l(t):n.substr(0,1)+t}function Bt(t){this.$b=new Rt(t),Object.defineProperty(this,"size",{get:function(){return this.$b.Cc()}})}function Lt(t){return $h?o(t)?new window.Set(t):new window.Set:new Bt(t)}function Pt(t){if(t instanceof Bt)return t.$b.ra();var n=0,e=Array(t.size);return t.forEach(function(t){e[n++]=t}),e}function Ft(t,n){if(n.size>t.size)return!1;var e=!0;return n.forEach(function(n){e=e&&t.has(n)}),e}function Ut(t,n){this.sa=t,this.m=n||{}}function _t(t){var n=Lt();return t.forEach(function(t){n.add(t>>9)}),Pt(n)}function zt(t,n){n.forEach(function(t){this.m[t.id()]=t.Ja()},t)}function Gt(t,n){n.forEach(function(t){delete this.m[t]},t)}function Jt(t){return new Ut(t.id,JSON.parse(t.value))}function Wt(t,n,e){this.Z=t,this.Ib=n,this.rf=e}function Kt(t,n){var e=mt(),i=J(),r=_t(n).map(function(t){return new L(function(n,i){var r;try{r=this.Z.get(t)}catch(o){return void i(o)}r.onerror=i,r.onsuccess=function(t){t=Jt(t.target.result),e.set(t.W(),t),n()}},this)},t);return G(r).then(function(){i.resolve(e)}),i.ha}function Ht(t,n,e){t=t.b(Wh);var i=[e<<9,(e+1<<9)-1];return n=t.Ua(n,i[0],i[1]),e=new Ut(e),zt(e,n),e}function Vt(t,n){return new Ut(n)}function Xt(t){this.V=t.b(Wh),this.D=t.b(Kh),this.g=t.b(Yh)}function Yt(t,n){var e=n.getName();n.xa.forEach(function(t,n){this.V.remove(e,n)},t),n.wa.forEach(function(t){this.V.set(e,t)},t),n.ma.forEach(function(t){this.V.set(e,t[1])},t)}function $t(t,n){var e=t.g.table(n.getName());vn(n).forEach(function(t){Zt(this,e,t)},t)}function Zt(t,n,e){var i=t.D.oc.get(n.getName())||[],r=0;i.forEach(function(t){try{Qt(t,e),r++}catch(n){throw i.slice(0,r).forEach(function(t){Qt(t,[e[1],e[0]])},this),n}},t)}function Qt(t,n){var e=null===n[1]?void 0:n[1].pb(t.getName()),i=null===n[0]?void 0:n[0].pb(t.getName());if(!o(i)&&o(e))t.add(e,n[1].id());else if(o(i)&&o(e)){if(null===e||null===i){if(e==i)return}else if(0==t.lb().compare(i,e))return;t.add(e,n[1].id()),t.remove(i,n[0].id())}else o(i)&&!o(e)&&t.remove(i,n[0].id())}function tn(t,n){if(this.code=t,this.message="http://google.github.io/lovefield/error_lookup/src/error_lookup.html?c="+t,1<arguments.length)for(var e=1;e<=Math.min(4,arguments.length-1);++e)this.message+="&p"+(e-1)+"="+encodeURIComponent(arguments[e].toString().slice(0,64))}function nn(){this.l=mt(),this.size=0}function en(t){this.D=t.b(Kh),this.g=t.b(Yh),this.V=t.b(Wh),this.bd=null}function rn(t,n,e){var i=n.Jb().zg;e.forEach(function(t){i.forEach(function(n){if(null==t.m[n.getName()])throw new tn(202,n.j())},this)},t)}function on(t,n,e,i){n.Jb().Xd().forEach(function(t){t.timing==i&&un(this,t,e)},t)}function un(t,n,e){var i=sn(t,n);e.forEach(function(t){if(an(t[0],t[1],n.name)&&(t=t[1].pb(n.name),null!==t&&!i.Oa(t)))throw new tn(203,n.name)},t)}function sn(t,n){null===t.bd&&(t.bd=mt());var e=t.bd.get(n.name)||null;return null===e&&(e=t.g.table(n.Wa)[n.Mc].Ca(),e=t.D.get(e.j()),t.bd.set(n.name,e)),e}function an(t,n,e){return(null===t?null!==n:null===n)||t.pb(e)!=n.pb(e)}function hn(t,n,e,i){n=Oa(t.g.info(),n.getName(),0),null!==n&&(n=n.filter(function(t){return t.timing==i}),0!=n.length&&ln(t,n,e,function(t,n,e){if(n.Oa(e))throw new tn(203,t.name)}))}function cn(t,n,e){if(n=Oa(t.g.info(),n.getName(),1),null===n)return null;var i=new nn;return ln(t,n,e,function(t,n,e){n=n.get(e),0<n.length&&i.Zb(t.He,n)}),i}function fn(t,n,e){var i=new nn;return ln(t,e,n,function(t,n,e,r){n.get(e).forEach(function(n){i.set(n,{Ud:t,Eg:r[1]})})}),i}function ln(t,n,e,i){n.forEach(function(t){var n=this.D.get(t.name),r=sn(this,t);e.forEach(function(e){if(an(e[0],e[1],r.getName())){var o=e[0].pb(r.getName());i(t,n,o,e)}},this)},t)}function pn(t,n,e,i){0!=e.length&&(e=e.map(function(t){return[null,t]}),on(t,n,e,i))}function dn(t,n,e,i){0!=e.length&&(on(t,n,e,i),hn(t,n,e,i))}function yn(t,n,e,i){0!=e.length&&(e=e.map(function(t){return[t,null]}),hn(t,n,e,i))}function gn(t,n,e){var i={ve:[],tf:new nn},r=new nn;r.Zb(n.getName(),e.map(function(t){return t.id()}));do{var o=new nn;r.keys().forEach(function(t){var n=this.g.table(t);t=r.get(t).map(function(t){return[this.V.get(t),null]},this),n=cn(this,n,t),null!==n&&(i.ve.unshift.apply(i.ve,n.keys()),o.ce(n))},t),r=o,i.tf.ce(r)}while(0<r.size);return i}function bn(t){this.wa=mt(),this.ma=mt(),this.xa=mt(),this.A=t}function vn(t){var n=[];return t.wa.forEach(function(t){n.push([null,t])}),t.ma.forEach(function(t){n.push(t)}),t.xa.forEach(function(t){n.push([t,null])}),n}function mn(t){var n=new bn(t.A);return t.wa.forEach(function(t){n["delete"](t)}),t.xa.forEach(function(t){n.add(t)}),t.ma.forEach(function(t){n.modify([t[1],t[0]])}),n}function wn(t,n){this.aa=mt(),n.forEach(function(t){this.aa.set(t.getName(),t)},this),this.g=t.b(Yh),this.V=t.b(Wh),this.D=t.b(Kh),this.Aa=new en(t),this.kd=new Xt(t),this.ib=mt()}function En(t){var n=[];return wt(t.ib).map(function(t){return this.aa.get(t)},t).forEach(function(t){t.Fb()&&(t.Da().forEach(function(t){n.push(this.D.get(t.j()))},this),n.push(this.D.get(t.getName()+".#")))},t),n}function Sn(t,n,e){var i=n.getName(),r=t.ib.get(i)||new bn(i);t.ib.set(i,r);try{Zt(t.kd,n,e)}catch(o){throw o}n=e[0];var u=e[1];null===n&&null!==u?(t.V.set(i,u),r.add(u)):null!==n&&null!==u?(t.V.set(i,u),r.modify(e)):null!==n&&null===u&&(t.V.remove(i,n.id()),r["delete"](n))}function Nn(t,n,e){if(n=Oa(t.g.info(),n.getName(),1),null!==n){var i=fn(t.Aa,e,n);i.keys().forEach(function(t){i.get(t).forEach(function(n){var e=this.g.table(n.Ud.He),i=this.V.get(t),r=e.mb(i.Ja());r.m[n.Ud.yb]=n.Eg.m[n.Ud.Mc],Sn(this,e,[i,r])},this)},t)}}function Tn(t,n,e){if(null!==Oa(t.g.info(),n.getName(),1)){n=gn(t.Aa,n,e);var i=n.tf;n.ve.forEach(function(t){var n=this.g.table(t);t=i.get(t).map(function(t){return this.V.get(t)},this),yn(this.Aa,n,t,0),t.forEach(function(t){Sn(this,n,[t,null])},this)},t)}}function An(t){t.ib.forEach(function(t){var n=this.aa.get(t.getName());pn(this.Aa,n,Et(t.wa),1),yn(this.Aa,n,Et(t.xa),1),dn(this.Aa,n,Et(t.ma),1)},t)}function qn(t,n){if(!t.aa.has(n.getName()))throw new tn(106,n.getName())}function xn(t,n,e,i){this.from=t,this.o=n,this.ea=this.from==ic?!1:e,this.oa=this.o==ic?!1:i}function jn(t){if(On(t))return[];var n=null,e=null;return t.from==ic||(n=new xn(ic,t.from,!1,!t.ea)),t.o==ic||(e=new xn(t.o,ic,!t.oa,!1)),[n,e].filter(function(t){return null!==t})}function In(t,n){var e=kn(t.from,n.from,!0,t.ea,n.ea);if(0==e)return!0;var i=-1==e?t:n,e=1==e?t:n;return i.o==ic||i.o>e.from||i.o==e.from&&!i.oa&&!e.ea}function Cn(){return new xn(ic,ic,!1,!1)}function On(t){return t.from==ic&&t.o==ic}function Mn(t){return t.from==t.o&&t.from!=ic&&!t.ea&&!t.oa}function kn(t,n,e,i,r){function o(t){return e?t:1==t?-1:1}return i=i||!1,r=r||!1,t==ic?n==ic?(i?!r:r)?o(i?1:-1):0:o(-1):n==ic?o(1):n>t?-1:t==n?(i?!r:r)?o(i?1:-1):0:1}function Rn(t,n){var e=kn(t.from,n.from,!0,t.ea,n.ea);return 0==e&&(e=kn(t.o,n.o,!1,t.oa,n.oa)),e}function Dn(t){if(0==t.length)return[];t.sort(Rn);for(var n=Array(t.length+1),e=0;e<n.length;e++)n[e]=0==e?new xn(ic,t[e].from,!1,!0):e==n.length-1?new xn(t[e-1].o,ic,!0,!1):new xn(t[e-1].o,t[e].from,!0,!0);return n}function Bn(t){this.nc=[],o(t)&&this.add(t)}function Ln(t,n){var e=[];return t.ra().map(function(t){return n.ra().map(function(n){var e;if(In(t,n)){e=Cn();var i=kn(t.from,n.from,!0),i=0==i?t.ea?t:n:-1!=i?t:n;e.from=i.from,e.ea=i.ea,t.o==ic||n.o==ic?n=t.o==ic?n:t:(i=kn(t.o,n.o,!1),n=0==i?t.oa?t:n:-1==i?t:n),e.o=n.o,e.oa=n.oa}else e=null;return e})}).forEach(function(t){e=e.concat(t)}),new Bn(e.filter(function(t){return null!==t}))}function Pn(t,n){this.entries=t,this.M=Lt(n),this.Za=null}function Fn(t){return t.entries.map(function(t){return t.va.m})}function Un(t){return t.entries.map(function(t){return t.va.id()})}function _n(t,n){return t.Za.get(n.j())}function zn(){return null===rc&&(rc=new Pn([],[])),rc}function Gn(t){if(0==t.length)return zn();for(var n=t.reduce(function(t,n){return t+n.entries.length},0),e=Array(n),i=0,n=t.map(function(t){var n=mt();return t.entries.forEach(function(t){e[i++]=t,n.set(t.id,t)}),n}),r=mt(),o=0;o<e.length;o++)n.every(function(t){return t.has(e[o].id)})&&r.set(e[o].id,e[o]);return new Pn(Et(r),Pt(t[0].M))}function Jn(t){if(0==t.length)return zn();var n=mt();return t.forEach(function(t){t.entries.forEach(function(t){n.set(t.id,t)})}),new Pn(Et(n),Pt(t[0].M))}function Wn(t,n){var e=1<n.length,i=t.map(function(t){return new Kn(t,e)});return new Pn(i,n)}function Kn(t,n){this.va=t,this.id=oc++,this.$d=n}function Hn(t,n){var e=n.$a();return null!==e&&t.va.m.hasOwnProperty(e)?t.va.m[e]:t.$d?t.va.m[Kr(n.H())][n.getName()]:t.va.m[n.getName()]}function Vn(t,n,e){var i=n.$a();if(null!=i)t.va.m[i]=e;else if(t.$d){var i=Kr(n.H()),r=t.va.m[i];null==r&&(r={},t.va.m[i]=r),r[n.getName()]=e}else t.va.m[n.getName()]=e}function Xn(t,n,e,i){function r(t,n){if(t.$d){var e,i=t.va.m;for(e in i)o[e]=i[e]}else o[n[0]]=t.va.m}var o={};return r(t,n),r(e,i),t=new St(-1,o),new Kn(t,!0)}function Yn(t){this.fa=t}function $n(){this.Ze=te();var t=ee();this.Qb=mt(),this.Qb.set(1,ne()),this.Qb.set(2,oe()),this.Qb.set(4,t),this.Qb.set(3,t),this.Qb.set(5,ie()),this.Qb.set(6,re())}function Zn(){return null!=uc||(uc=new $n),uc}function Qn(t,n,e){if(t=t.Qb.get(n)||null,null===t)throw new tn(550);if(e=t.get(e)||null,null===e)throw new tn(550);return e}function te(){function t(t){return t}var n=mt();return n.set(1,function(t){return null===t?null:t?1:0}),n.set(2,function(t){return null===t?null:t.getTime()}),n.set(3,t),n.set(4,t),n.set(5,t),n}function ne(){var t=mt();return t.set("eq",function(t,n){return t==n}),t.set("neq",function(t,n){return t!=n}),t}function ee(){var t=ne();return t.set("between",function(t,n){return null===t||null===n[0]||null===n[1]?!1:t>=n[0]&&t<=n[1]}),t.set("gte",function(t,n){return null===t||null===n?!1:t>=n}),t.set("gt",function(t,n){return null===t||null===n?!1:t>n}),t.set("in",function(t,n){return-1!=n.indexOf(t)}),t.set("lte",function(t,n){return null===t||null===n?!1:n>=t}),t.set("lt",function(t,n){return null===t||null===n?!1:n>t}),t}function ie(){var t=ee();return t.set("match",function(t,n){return null===t||null===n?!1:new RegExp(n).test(t)}),t}function re(){var t=mt();return t.set("eq",function(t,n){if(null!==n)throw new tn(550);return null===t}),t.set("neq",function(t,n){if(null!==n)throw new tn(550);return null!==t}),t}function oe(){var t=mt();return t.set("between",function(t,n){return null===t||null===n[0]||null===n[1]?!1:t.getTime()>=n[0].getTime()&&t.getTime()<=n[1].getTime()}),t.set("eq",function(t,n){return(null===t?-1:t.getTime())==(null===n?-1:n.getTime())}),t.set("gte",function(t,n){return null===t||null===n?!1:t.getTime()>=n.getTime()}),t.set("gt",function(t,n){return null===t||null===n?!1:t.getTime()>n.getTime()}),t.set("in",function(t,n){return n.some(function(n){return n.getTime()==t.getTime()})}),t.set("lte",function(t,n){return null===t||null===n?!1:t.getTime()<=n.getTime()}),t.set("lt",function(t,n){return null===t||null===n?!1:t.getTime()<n.getTime()}),t.set("neq",function(t,n){return(null===t?-1:t.getTime())!=(null===n?-1:n.getTime())}),t}function ue(){this.h=this.F=null}function se(t){for(var n=0;null!==t.getParent();)n++,t=t.getParent();return n}function ae(t){return t.h||sc}function he(t,n){return ae(t)[n]||null}function ce(t,n,e){n.F=t,null===t.h?t.h=[n]:t.h.splice(e,0,n)}function fe(t,n){n.F=t,null===t.h?t.h=[n]:t.h.push(n)}function le(t,n){var e=t.h&&t.h[n];return e?(e.F=null,t.h.splice(n,1),0==t.h.length&&(t.h=null),e):null}function pe(t,n,e){he(t,e).F=null,n.F=t,t.h[e]=n}function de(t,n,e){!1!==n.call(e,t)&&ae(t).forEach(function(t){de(t,n,e)})}function ye(){ue.call(this),this.sa=ac++}function ge(t,n,e){ye.call(this),this.J=t,this.value=n,this.C=e,this.yc=Qn(Zn(),this.J.I(),this.C),this.Va=!1,this.fc=n}function be(t){var n=!1;if(t.value instanceof Yn||(n="array"==s(t.value)?!t.value.some(function(t){return t instanceof Yn}):!0),!n)throw new tn(501)}function ve(t,n){var e=Lt(t.value),i=function(t){return null===t?!1:e.has(t)!=this.Va}.bind(t),r=n.entries.filter(function(t){return i(Hn(t,this.J))},t);return new Pn(r,n.s())}function me(t,n){return 2==t.J.I()?n.getTime():n}function we(t){this.ba=t,this.Zc=this.Ga=null}function Ee(t,n){return null===t.Ga&&null!=t.w&&(t.Ga=Se(t.w)),t.Ga.get(n)||null}function Se(t){var n=mt();return de(t,function(t){n.set(t.W(),t)}),n}function Ne(t,n){n.w&&(t.w=n.w.Pb()),t.Zc=n}function Te(t,n){var e=t.w;null!=e&&de(e,function(t){t instanceof ge&&t.bind(n)})}function Ae(t){we.call(this,t)}function qe(t){var n="";return t.forEach(function(e,i){n+=e.J.j()+" ",n+=1==e.sb?"ASC":"DESC",i<t.length-1&&(n+=", ")}),n}function xe(t,n){this.Ha=t,this.aa=n}function je(t){var n=Lt();return t.forEach(function(t){t.da().forEach(n.add.bind(n))}),n}function Ie(t,n){this.global=t,this.Na=t.b(Jh),this.vd=n.map(function(t){return t.context}),this.jf=n.map(function(t){return t.ke}),this.Od=je(this.jf),this.ye=Ce(this),this.fb=J()}function Ce(t){return t.vd.some(function(t){return!(t instanceof Ae)})?1:0}function Oe(t,n){Ie.call(this,t,n),this.Lb=t.b(Xh)}function Me(t,n){this.c=t,this.Lb=t.b(Xh),this.Ia=t.b(Vh),this.kd=new Xt(t),this.ib=n;var e=t.b(Yh),i=this.ib.map(function(t){return e.table(t.getName())});this.aa=Lt(i),this.fb=J()}function ke(t){this.c=t,this.Na=t.b(Jh),this.Ia=t.b(Vh)}function Re(t,n){this.Ta=t,this.i=n,this.Ya=mt()}function De(t,n){var e=J(),i=t;return n.length&&(i=t.child(n)),i.once("value",function(t){e.resolve(t.val())},function(t){e.reject(t)}),e.ha}function Be(t,n,e){function i(t){t?r.reject(t):r.resolve()}e=e||!1;var r=J();return e?t.set(n,i):t.update(n,i),r.ha}function Le(t,n,e){var i=t.Ya.get(n);return null!=i?function(){var t={},n=J();return this.i.orderByChild("T").equalTo(i).once("value",function(i){i.forEach(function(n){var i=e(n.val());t[parseInt(n.key(),10)]=i}),n.resolve(t)}),n.ha}.call(t).then(function(t){return t["@rev"]={R:++this.Ra},Be(this.i,t)}.bind(t)):U()}function Pe(t,n,e){xt.call(this,n,e),this.i=t}function Fe(){this.Ba=mt()}function Ue(t,n){if(0==n.length)return Et(t.Ba);var e=[];return n.forEach(function(t){t=this.Ba.get(t)||null,null===t||e.push(t)},t),e}function _e(t,n){n.forEach(function(t){this.Ba.set(t.id(),t)},t)}function ze(t,n){0==n.length||n.length==t.Ba.size?t.Ba.clear():n.forEach(function(t){this.Ba["delete"](t)},t)}function Ge(t){return 0==t.Ba.size?0:wt(t.Ba).reduce(function(t,n){return t>n?t:n},0)}function Je(t,n){this.g=t,this.Ff=n,this.Nc=mt(),this.Ra=-1,this.M=mt(),this.Ya=mt(),this.Ld=null}function We(t){t.i.off(),t.i.on("child_removed",t.Bg.bind(t)),t.Md&&(t.Md.off(),t.Nc.clear()),t.Md=t.i.orderByChild("R").startAt(t.Ra+1),t.Md.on("value",t.fe.bind(t))}function Ke(t){zh=Et(t.M).map(function(t){return Ge(t)}).reduce(function(t,n){return t>n?t:n},0)+1}function He(t,n){var e=Lt(),i=mt();return t.Ya.forEach(function(t,n){var r=this.M.get(n),o=new bn(n);if(this.Nc.has(t)){var u=Pt(this.Nc.get(t));u.forEach(function(t){e.add(t)}),Ue(r,u).forEach(function(t){o["delete"](t)})}i.set(t,o)}.bind(t)),n.forEach(function(t){if("@rev"!=t.key()){var n=parseInt(t.key(),10);if(!e.has(n)){var r=t.val();t=i.get(r.T);var o=this.M.get(t.getName()),r=this.g.table(t.getName()).mb({id:n,value:r.P});o.getData().has(n)?t.modify([Ue(o,[n])[0],r]):t.add(r)}}}.bind(t)),Et(i).filter(function(t){return!t.md()})}function Ve(t,n){var e=J(),i=t.Ya.get(n),r=t.g.table(n);return t.i.orderByChild("T").equalTo(i).once("value",function(t){var i=new Fe,o=[];t.forEach(function(t){o.push(r.mb({id:parseInt(t.key(),10),value:t.val().P}))}),_e(i,o),this.M.set(n,i),e.resolve()}.bind(t)),e.ha}function Xe(t){var n={};return n["@db"]={version:t.g.version()},n["@rev"]={R:1},t.Ra=1,n["@table"]={},t.g.pa().forEach(function(t,e){var i=t.getName();n["@table"][i]=e,this.M.set(i,new Fe),this.Ya.set(i,e)},t),n}function Ye(t,n,e,i){this.i=n,this.ja=e,this.Ta=t,this.Xc=i}function $e(t,n,e,i){return new L(function(t,r){var o;try{var u=this.ja.objectStore(n);o=u.openCursor()}catch(s){return void r(s)}o.onsuccess=function(){var n=o.result;n?(e(n),n["continue"]()):(i(u),t())},o.onerror=r},t)}function Ze(t){var n=null;return n=t instanceof ArrayBuffer?At(t):t instanceof Date?t.getTime():t}function Qe(t,e,i){function r(t){var n,e=Jt(t.value),r=e.m;for(n in r){var o=Nt(r[n]);i(o),r[n]=o.Ja()}t.update(e.Ja())}function o(t){var n=Nt(t.value);i(n),t.update(n.Ja())}return $e(t,e,t.Xc?r:o,n())}function ti(t,n){var e=[];return new L(function(t,i){var r;try{r=this.ja.objectStore(n).openCursor()}catch(o){return void i(o)}r.onsuccess=function(){var n=r.result;if(n){if(this.Xc){var i,o=Jt(n.value).m;for(i in o)e.push(o[i])}else e.push(n.value);n["continue"]()}else t(e)}.bind(this),r.onerror=i},t)}function ni(t,n){this.Z=t,this.Ib=n}function ei(t){return new L(function(t,n){var e,i=[];try{e=this.Z.openCursor()}catch(r){return void n(r)}e.onerror=n,e.onsuccess=function(){var n=e.result;n?(i.push(this.Ib(n.value)),n["continue"]()):t(i)}.bind(this)},t)}function ii(t){return new L(function(t,n){
var e;try{e=this.Z.getAll()}catch(i){return void n(i)}e.onerror=n,e.onsuccess=function(){var n=e.result.map(function(t){return this.Ib(t)},this);t(n)}.bind(this)},t)}function ri(t,n,e,i,r){xt.call(this,e,r),this.c=t,this.ja=n,this.Xc=i,this.ja.oncomplete=this.S.resolve.bind(this.S),this.ja.onabort=this.S.reject.bind(this.S)}function oi(t,n){this.c=t,this.g=n,this.Id=n.kf().Vf||!1}function ui(t,n,e){var i=e.target.result;return e=new Ye(e.oldVersion,i,e.target.transaction,t.Id),si(i),t.g.pa().forEach(g(t.Of,i),t),n(e)}function si(t){for(var n=[],e=0;e<t.objectStoreNames.length;++e){var i=t.objectStoreNames.item(e);-1!=i.indexOf(".")&&n.push(i)}n.forEach(function(n){try{t.deleteObjectStore(n)}catch(e){}})}function ai(t,n){t.objectStoreNames.contains(n)||t.createObjectStore(n,{keyPath:"id"})}function hi(t){var n=Lt();return t.forEach(function(t){n.add(t.getName()),t.Fb()&&(t.Da().forEach(function(t){n.add(t.j())}),n.add(Hr(t)))}),Pt(n)}function ci(t,n,e){xt.call(this,n,e),this.Z=t,0==n&&this.S.resolve()}function fi(t){this.g=t,this.M=mt()}function li(t,n){if(!t.M.has(n)){var e=new Fe;t.M.set(n,e)}}function pi(t){fi.call(this,t),this.sd=null}function di(t,n,e){this.ja=t,this.A='"'+n+'"',this.Ib=e}function yi(t,n,e){xt.call(this,n,e),this.i=t,this.M=mt(),this.Pd=[]}function gi(t){return t.replace(".","__d__").replace("#","__s__")}function bi(t,n,e,i){var r=J();return t.Pd.push({Pg:n,Fg:e,transform:i,S:r}),r.ha}function vi(t,n,e){this.i=e,this.c=t,this.Ta=n}function mi(t){return new yi(t.i,1,new wn(t.c,Lt()))}function wi(t,n,e){var i=mi(t),r="UPDATE "+n+" SET value=? WHERE id=?";return t.hc(n).then(function(t){return t.forEach(function(t){t=e(t),bi(i,r,[JSON.stringify(t.value),t.id])}),i.ka()})}function Ei(t){bi(t,'SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(t){for(var n=Array(t.rows.length),e=0;e<n.length;++e)n[e]=t.rows.item(e).tbl_name;return n})}function Si(t,n,e){this.c=t,this.g=n,this.Og=e||1}function Ni(t,n){var e=J(),i=new yi(t.i,1,new wn(t.c,Lt()));return bi(i,"CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]),bi(i,"SELECT v FROM __lf_ver WHERE id = 0",[]),i.ka().then(function(t){var i=0;t[1].rows.length&&(i=t[1].rows.item(0).v),i<this.g.version()?this.ie(n,i).then(e.resolve.bind(e)):i>this.g.version()?e.reject(new tn(108)):e.resolve()}.bind(t),e.reject.bind(e)),e.ha}function Ti(t){var n=t.g.pa(),e=new yi(t.i,1,new wn(t.c,Lt())),i=new yi(t.i,1,new wn(t.c,Lt()));return bi(e,"INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[t.g.version()]),Ei(e),e.ka().then(function(t){var e=t[1];e.filter(function(t){return-1!=t.indexOf("__d__")}).forEach(function(t){bi(i,"DROP TABLE "+('"'+t+'"'),[])});var r=[],o=[],u=[];return n.map(function(t){-1==e.indexOf(t.getName())&&r.push(t.getName()),t.Fb&&(t.Da().forEach(function(t){t=gi(t.j()),r.push(t),o.push(t)}),t=gi(Hr(t)),r.push(t),u.push(t))}),r.forEach(function(t){bi(i,"CREATE TABLE "+('"'+t+'"')+"(id INTEGER PRIMARY KEY, value TEXT)",[])}),i.ka()})}function Ai(t){this.l=mt(),this.cc=mt(),t.pa().forEach(function(t){this.cc.set(t.getName(),Lt())},this)}function qi(t,n){return n.map(function(t){return this.get(t)},t)}function xi(t,n,e){var i=0,r=t.length;for(e=e||ji;r>i;){var o=i+r>>1;0>e(t[o],n)?i=o+1:r=o}return i==r&&t[i]==n?i:~i}function ji(t,n){return t-n}function Ii(t,n,e){return e=xi(t,n,e),0>e?(t.splice(-(e+1),0,n),!0):!1}function Ci(t,n,e,i){return t=n?t.reverse():t,null==e&&null==i?t:(e=Math.min(o(e)?e:t.length,t.length),0==e?[]:(i=Math.min(i||0,t.length),t.slice(i,i+e)))}function Oi(){this.ia=0,this.Ic=null}function Mi(t,n){t.clear(),n.forEach(function(t){this.ia+=t.ia},t)}function ki(t,n,e,i){if(this.A=t,this.$=n,this.Af=e,this.za=new Oi,i){if(t=511,t*=t*t,i.length>=t)throw new tn(6,t);i=Gi(this,i),this.ua=i=Wi(i)}else this.clear()}function Ri(t,n,e){if(!t.$.Qd(n.a[e])){if(!(1<n.a[e].length))return null;if(null===n.a[e][0])return null}return[n.a[e],t.Af?[n.B[e]]:n.B[e]]}function Di(t,n,e,i){return t=new ki(n,t,e),i=tr(i,t),t.ua=i,t}function Bi(t,n){this.sa=t,this.u=n,this.ob=0,this.ya=this.tb=this.F=null,this.a=[],this.B=[],this.h=[],this.bg=1==n.lb().ae()?this.Pe:this.Oe}function Li(t){return new Bi(zh++,t)}function Pi(t){return 0==t.ob}function Fi(t){function n(t){return null!=t?t.sa.toString():"_"}var e=t.sa+"["+t.a.join("|")+"]",i=t.h.map(function(t){return t.sa}).join("|"),r=t.B.join("/"),o=n(t.tb)+"{",o=Pi(t)?o+r:o+i,o=o+"}"+n(t.F);return t.ya&&(t=Fi(t.ya),e=e+"  "+t[0],o=o+"  "+t[1]),[e,o]}function Ui(t){return Pi(t)?t:Ui(t.h[0])}function _i(t){return Pi(t)?t:_i(t.h[t.h.length-1])}function zi(t,n){n&&(n.tb=t),t&&(t.ya=n)}function Gi(t,n){for(var e=n.length,i=0,r=Li(t),o=r;e>0;){var u=e>=768?511:e>=257&&511>=e?e:257,s=n.slice(i,i+u);r.a=s.map(function(t){return t.key}),r.B=s.map(function(t){return t.value}),i+=u,e-=u,e>0&&(u=Li(r.u),zi(r,u),r=u)}return o}function Ji(t){var n=t[0],e=Li(n.u);for(e.ob=n.ob+1,e.h=t,n=0;n<t.length;++n)t[n].F=e,n>0&&e.a.push(t[n].a[0]);return e}function Wi(t){var n=t,e=[];do e.push(n),n=n.ya;while(n);if(512>=e.length)n=Ji(e);else{var i=e.length,r=0,n=Li(t.u);for(n.ob=t.ob+2;i>0;){t=i>=768?511:i>=257&&511>=i?i:257;var o=e.slice(r,r+t),u=Ji(o);u.F=n,n.h.length&&(n.a.push(o[0].a[0]),zi(n.h[n.h.length-1],u)),n.h.push(u),r+=t,i-=t}}return n}function Ki(t){return Pi(t)?t.a[0]:Ki(t.h[0])}function Hi(t){t.a=[];for(var n=1;n<t.h.length;++n)t.a.push(Ki(t.h[n]))}function Vi(t,n,e,i){var r=$i(t,n),u=Pi(t);if(u){if(!t.u.Pa(t.a[r],n))return!1}else{var s=t.u.Pa(t.a[r],n)?r+1:r;if(!Vi(t.h[s],n,s,i))return!1;Hi(t)}if(t.a.length>r&&t.u.Pa(t.a[r],n)){if(o(i)&&!t.u.La()&&u&&(s=t.B[r],i=xi(s,i,void 0),0>i?i=!1:(s.splice(i,1),i=!0),i&&t.u.Y().remove(n,1),t.B[r].length))return!1;t.a.splice(r,1),u&&(u=t.u.La()?1:t.B[r].length,t.B.splice(r,1),t.u.Y().remove(n,u))}if(256>t.a.length&&null!==t.F){t:{if(n=null,t.ya&&256<t.ya.a.length)n=t.ya,r=i=0,u=t.a.length+1;else{if(!(t.tb&&256<t.tb.a.length)){n=!1;break t}n=t.tb,i=t.tb.a.length-1,r=Pi(t)?i:i+1,u=0}t.a.splice(u,0,n.a[i]),n.a.splice(i,1),i=Pi(t)?t.B:t.h,s=null,Pi(t)?s=n.B:(s=n.h,s[r].F=t),i.splice(u,0,s[r]),s.splice(r,1),Pi(n)||(Hi(n),Hi(t)),n=!0}n||Xi(t,e)}return!0}function Xi(t,n){var e,i,r;t.ya&&511>t.ya.a.length?(e=t.ya,r=i=0):t.tb&&(e=t.tb,i=e.a.length,r=Pi(e)?e.B.length:e.h.length),i=[i,0].concat(t.a),Array.prototype.splice.apply(e.a,i),i=null,Pi(t)?i=t.B:(i=t.h,i.forEach(function(t){t.F=e})),i=[r,0].concat(i),Array.prototype.splice.apply(Pi(e)?e.B:e.h,i),zi(t.tb,t.ya),Pi(e)||Hi(e),-1!=n&&(t.F.a.splice(n,1),t.F.h.splice(n,1))}function Yi(t){var n=Li(t.u),e=Li(t.u);return n.F=t.F,n.ob=t.ob+1,n.a=[t.a[256]],n.h=[t,e],t.a.splice(256,1),e.F=n,e.ob=t.ob,e.a=t.a.splice(256),e.h=t.h.splice(257),e.h.forEach(function(t){t.F=e}),t.F=n,zi(e,t.ya),zi(t,e),n}function $i(t,n){for(var e=0,i=t.a.length,r=t.u.lb();i>e;){var o=e+i>>1;-1==r.compare(t.a[o],n)?e=o+1:i=o}return e}function Zi(t,n,e,i){if(t.u.La())!n.reverse&&n.L?n.L--:e[n.count++]=t.B[i];else for(var r=0;r<t.B[i].length&&n.count<e.length;++r)!n.reverse&&n.L?n.L--:e[n.count++]=t.B[i][r]}function Qi(t,n,e,i,r){for(;r>i&&(n.reverse||!(n.count>=n.X));++i)Zi(t,n,e,i)}function tr(t,n){for(var e=n.Y(),i=t.map(function(t){var i=new Bi(t.id(),n);return i.a=t.m[0],i.B=t.m[1],i.a.forEach(function(t,r){e.add(t,n.La()?1:i.B[r].length)}),i}),r=0;r<i.length-1;++r)zi(i[r],i[r+1]);return 1<i.length?Wi(i[0]):i[0]}function nr(t){this.$c=0==t?ir:er,this.de=0==t?function(t){return null!=t?t.reverse():null}:function(t){return t||null},this.je=0==t?or:rr}function er(t,n){return t>n?1:n>t?-1:0}function ir(t,n){return er(n,t)}function rr(t,n){return Rn(t,n)}function or(t,n){return Rn(n,t)}function ur(t){nr.call(this,t),this.$c=0==t?ar:sr}function sr(t,n){return null===t?null===n?0:-1:null===n?1:er(t,n)}function ar(t,n){return sr(n,t)}function hr(t){this.qa=t.map(function(t){return new nr(t)})}function cr(t,n,e,i){for(var r=0,o=0;o<t.qa.length&&0==r;++o)r=i(t.qa[o],n[o],e[o]);return r}function fr(t){hr.call(this,t),this.qa=t.map(function(t){return new ur(t)})}function lr(t){if(1==t.f.length)return new nr(t.f[0].sb);var n=t.f.map(function(t){return t.sb});return t.f.some(function(t){return t.ba.kc()})?new fr(n):new hr(n)}function pr(t){this.fa=t,this.qb=Lt(),this.Rc=new Oi,this.za=new Oi}function dr(t,n){for(var e=-1,i=0;i<n.length;++i)if(-2==n[i].id()){e=i;break}if(-1==e)throw new tn(102);var i=n[e].m,r=n.slice(0);r.splice(e,1);var e=t(r),o=new pr(e);return i.forEach(function(t){o.qb.add(t)}),o}function yr(t){this.A=t,this.vb=Lt(),this.$=new nr(1)}function gr(t,n){var e=new yr(t);return n[0].m.forEach(function(t){e.add(t,t)}),e}function br(t){this.Na=t.b(Jh),this.D=t.b(Kh),this.V=t.b(Wh)}function vr(t,n){var e=t.Na.Hb(0,[n]),i=e.H(n.getName(),n.mb.bind(n),0).get([]).then(function(t){this.V.Zb(n.getName(),t),mr(this,n,t)}.bind(t));return e.ka(),i}function mr(t,n,e){var i=t.D.oc.get(n.getName())||[];e.forEach(function(t){i.forEach(function(n){var e=t.pb(n.getName());n.add(e,t.id())})})}function wr(t,n){var e=t.Na.Hb(0,[n]),i=e.H(n.getName(),n.mb,0).get([]).then(function(t){this.V.Zb(n.getName(),t)}.bind(t)),r=n.Da().map(function(t){return Er(this,t,e)},t).concat(Sr(t,n,e));return e.ka(),G(r.concat(i))}function Er(t,n,e){e=e.H(n.j(),Nt,1);var i=lr(n);return e.get([]).then(function(t){if(0<t.length){if(Jr(n)){var e=Di.bind(void 0,i,n.j(),n.Gc);t=dr(e,t)}else t=Di(i,n.j(),n.Gc,t);this.D.set(n.pc,t)}}.bind(t))}function Sr(t,n,e){return e.H(Hr(n),Nt,1).get([]).then(function(t){0<t.length&&(t=gr(Hr(n),t),this.D.set(n.getName(),t))}.bind(t))}function Nr(){this.Z=mt(),this.oc=mt()}function Tr(t,n){var e=[],i=null,r=null;return de(t,function(t){var o=n(t);null==t.getParent()?r=o:fe(i,o);var u=t.getParent();null!==u&&ae(u).length==ae(i).length&&(u=e.indexOf(i),-1!=u&&e.splice(u,1)),1<ae(t).length&&e.push(o),i=null===t.h?e[e.length-1]:o}),r}function Ar(t){return Or(t,function(t){return null===t.h})}function qr(t){var n=t.getParent(),e=0;null!==n&&(e=ae(n).indexOf(t),n.removeChild(t));var i=ae(t).slice();return i.forEach(function(i,r){t.removeChild(i),null===n||ce(n,i,e+r)}),{parent:n,children:i}}function xr(t,n){ae(t).slice().forEach(function(e){t.removeChild(e),fe(n,e)}),fe(t,n)}function jr(t){var n=he(t,0);return qr(t),xr(n,t),n}function Ir(t,n,e){var i=he(t,0),r=ae(i).slice();return r.some(function(t){return n(t)})?(qr(t),r.forEach(function(r,o){if(n(r)){var u=e(t);le(i,o),fe(u,r),ce(i,u,o)}}),i):t}function Cr(t,n,e,i){var r=t.getParent();return null!==r&&(t=ae(r).indexOf(t),le(r,t),ce(r,e,t)),ae(n).slice().forEach(function(t){n.removeChild(t),fe(i,t)}),e}function Or(t,n,e){function i(t){n(t)&&r.push(t),null!=e&&e(t)||ae(t).forEach(i)}var r=[];return i(t),r}function Mr(t,n){var e=n||function(t){return t.toString()+"\n"},i="";return de(t,function(t){for(var n=0;n<se(t);n++)i+="-";i+=e(t)}),i}function kr(t){ye.call(this),this.rb=t,this.Va=!1}function Rr(t,n){return"and"==t.rb?Gn(n):Jn(n)}function Dr(t){var n=null;return ae(t).every(function(t){return t instanceof ge&&t.od()?(null===n&&(n=t.J),n.j()==t.J.j()):!1})}function Br(t,n,e){ye.call(this),this.ga=t,this.na=n,this.C=e,this.ee=null,t=Zn(),this.yc=Qn(t,this.ga.I(),this.C),this.pg=t.Ze.get(this.ga.I())||null}function Lr(t,n,e){var i=null,r=null;if(-1!=n.s().indexOf(Kr(t.ga.H()))?(i=n,r=e):(i=e,r=n),i.entries.length>r.entries.length){t:{switch(n=t.ga,t.ga=t.na,t.na=n,n=t.C,t.C){case"gt":n="lt";break;case"lt":n="gt";break;case"gte":n="lte";break;case"lte":n="gte";break;default:break t}t.C=n,t.yc=Qn(Zn(),t.ga.I(),t.C)}return[r,i]}return[i,r]}function Pr(t){var n={};return t.nb().forEach(function(t){n[t.getName()]=null}),n}function Fr(t,n,e){null===t.ee&&(t.ee=Pr(t.na.H()));var i=new Kn(new St(-1,t.ee),!1);return Xn(n,e,i,[Kr(t.na.H())])}function Ur(t,n,e,i){var r=[n,e];i||(r=Lr(t,n,e)),n=r[0],e=r[1];var r=n,o=e,u=t.ga,s=t.na;i&&(r=e,o=n,u=t.na,s=t.ga);var a=new nn,h=[];r.entries.forEach(function(t){var n=String(Hn(t,u));a.set(n,t)});var c=r.s(),f=o.s();return o.entries.forEach(function(t){var n=Hn(t,s),e=String(n);null!==n&&a.has(e)?a.get(e).forEach(function(n){n=Xn(t,f,n,c),h.push(n)}):i&&h.push(Fr(this,t,f))}.bind(t)),t=n.s().concat(e.s()),new Pn(h,t)}function _r(t,n,e,i,r){function o(t,n){var e=new Kn(n,1<c.length),e=Xn(t,f,e,c);h.push(e)}var u=i.fg.H(),s=n,a=e;-1!=n.s().indexOf(Kr(u))&&(s=e,a=n);var h=[],c=a.s(),f=s.s();return s.entries.forEach(function(t){var n=this.pg(Hn(t,i.yg)),n=i.index.get(n);0!=n.length&&(i.index.La()?o(t,r.get(n[0])):qi(r,n).forEach(o.bind(null,t)))},t),t=s.s().concat(a.s()),new Pn(h,t)}function zr(t,n,e){return null===n?new ge(t,n,e):o(n.j)?new Br(t,n,e):new ge(t,n,e)}function Gr(t,n,e,i){this.pc=t,this.name=n,this.Gc=e,this.f=i}function Jr(t){return t.f.some(function(t){return t.ba.kc()})}function Wr(t,n,e,i){this.A=t,this.ta=e,this.K=n,this.ud=i,this.jb=null}function Kr(t){return t.jb||t.A}function Hr(t){return t.A+".#"}function Vr(t,n){this.child=t,this.Ob=n,this.jb=null}function Xr(t){for(var n=[t];t instanceof Vr;)n.push(t.child),t=t.child;return n}function Yr(t){this.jb=t||null,this.U=new Wr("#UnknownTable",[],[],!1)}function $r(t){return new Vr(t||new Yr,"COUNT")}function Zr(t){return new Vr(t,"DISTINCT")}function Qr(t,n){ue.call(this),this.Xf=n}function to(t,n,e){return new L(function(t){t(this.ca([],n,e))}.bind(t))}function no(t,n,e){return he(t,0).exec(n,e).then(function(t){return this.ca(t,n,e)}.bind(t))}function eo(t,n,e){var i=ae(t).map(function(t){return t.exec(n,e)});return G(i).then(function(t){var i=[];return t.forEach(function(t){for(var n=0;n<t.length;++n)i.push(t[n])}),this.ca(i,n,e)}.bind(t))}function io(t){Qr.call(this,0,1),this.De=t}function ro(t,n){this.Ma=t,this.K=n}function oo(t){t.K.forEach(function(t){t=Xr(t).reverse();for(var n=1;n<t.length;n++){var e=t[n],i=Xr(e).slice(-1)[0],r=e.child instanceof Vr?_n(this.Ma,e.child):this.Ma;if(null!==r.Za&&r.Za.has(e.j()))break;r=uo(e.Ob,r,i),i=this.Ma,null===i.Za&&(i.Za=mt()),i.Za.set(e.j(),r)}},t)}function uo(t,n,e){var i=null;switch(t){case"MIN":i=so(n,e,function(t,n){return t>n?n:t});break;case"MAX":i=so(n,e,function(t,n){return n>t?n:t});break;case"DISTINCT":i=lo(n,e);break;case"COUNT":i=ao(n,e);break;case"SUM":i=ho(n,e);break;case"AVG":t=ao(n,e),t>0&&(i=ho(n,e)/t);break;case"GEOMEAN":i=fo(n,e);break;default:i=co(n,e)}return i}function so(t,n,e){return t.entries.reduce(function(t,i){var r=Hn(i,n);return null===r?t:null===t?r:e(t,r)},null)}function ao(t,n){return n instanceof Yr?t.entries.length:t.entries.reduce(function(t,e){return t+(null===Hn(e,n)?0:1)},0)}function ho(t,n){return so(t,n,function(t,n){return n+t})}function co(t,n){var e=[];return t.entries.forEach(function(t){t=Hn(t,n),null===t||e.push(t)}),0==e.length?null:ut.apply(null,e)}function fo(t,n){var e=0,i=t.entries.reduce(function(t,i){var r=Hn(i,n);return 0==r||null===r?t:(e++,t+Math.log(r))},0);return 0==e?null:Math.pow(Math.E,i/e)}function lo(t,n){var e=mt();return t.entries.forEach(function(t){var i=Hn(t,n);e.set(i,t)}),new Pn(Et(e),t.s())}function po(t,n){this.Ha=t,this.aa=n}function yo(){ue.call(this)}function go(t,n){ue.call(this),this.table=t,this.values=n}function bo(t,n){go.call(this,t,n)}function vo(t){ue.call(this),this.table=t}function mo(t){ue.call(this),this.table=t}function wo(t){ue.call(this),this.O=t}function Eo(t){ue.call(this),this.table=t}function So(){ue.call(this)}function No(t,n){ue.call(this),this.f=t,this.Sb=n}function To(t){ue.call(this),this.N=t}function Ao(t){ue.call(this),this.f=t}function qo(t){ue.call(this),this.f=t}function xo(t){ue.call(this),this.X=t}function jo(t){ue.call(this),this.L=t}function Io(t,n){ue.call(this),this.O=t,this.Ub=n}function Co(){}function Oo(){}function Mo(t,n){if(0==ae(n).length||"and"!=n.rb)return[n];var e=ae(n).slice().map(function(t){return n.removeChild(t),Mo(this,t)},t);return A(e)}function ko(t,n){var e=null,i=null;return n.map(function(t,n){var r=new wo(t);0==n?e=r:fe(i,r),i=r},t),[e,i]}function Ro(){}function Do(){Qr.call(this,0,0)}function Bo(t,n){Ie.call(this,t,n),this.Ia=t.b(Vh),this.Lb=t.b(Xh)}function Lo(t,n){t.vd.forEach(function(t,e){t instanceof Ae&&pa(this.Lb,t,n[e])},t)}function Po(t){we.call(this,t)}function Fo(t,n,e){var i=Ra(t.ba.info(),n,1);Ra(t.ba.info(),n).forEach(e.add.bind(e)),i.forEach(function(t){Fo(this,t.getName(),e)},t)}function Uo(t){we.call(this,t)}function _o(t){we.call(this,t)}function zo(t){return t.map(function(t){var n,e={};for(n in t)e[n]=t[n];return e})}function Go(t,n){if(null==n)return"NULL";switch(t){case 1:return n?1:0;case 3:case 4:return n;case 0:return"'"+At(n)+"'";default:return"'"+n.toString()+"'"}}function Jo(t,n){var e=t.dc?"INSERT OR REPLACE":"INSERT",i=t.Ka.nb(),e=e+(" INTO "+t.Ka.getName()+"("),e=e+i.map(function(t){return t.getName()}).join(", "),e=e+") VALUES (";return t.values.map(function(t){var r=i.map(function(e){var i=t.m[e.getName()];return n?null!=i?"#":"NULL":Go(e.I(),i)});return e+r.join(", ")+");"}).join("\n")}function Wo(t){switch(t){case"between":return"BETWEEN";case"eq":return"=";case"gte":return">=";case"gt":return">";case"in":return"IN";case"lte":return"<=";case"lt":return"<";case"match":return"LIKE";case"neq":return"<>";default:return"UNKNOWN"}}function Ko(t,n,e,i){return t instanceof Yn?"?"+t.Ca().toString():i?null!=t?"#":"NULL":"match"==n?"'"+t.toString()+"'":"in"==n?"("+t.map(function(t){return Go(e,t)}).join(", ")+")":"between"==n?Go(e,t[0])+" AND "+Go(e,t[1]):Go(e,t).toString()}function Ho(t,n){return ae(t).map(function(t){return"("+Xo(t,n)+")"}).join("and"==t.rb?" AND ":" OR ")}function Vo(t){return[t.ga.j(),Wo(t.C),t.na.j()].join(" ")}function Xo(t,n){if(t instanceof ge){var e=t.J.j(),i=Wo(t.C),r=Ko(t.value,t.C,t.J.I(),n);return"="==i&&"NULL"==r?[e,"IS NULL"].join(" "):"<>"==i&&"NULL"==r?[e,"IS NOT NULL"].join(" "):[e,i,r].join(" ")}if(t instanceof kr)return Ho(t,n);if(t instanceof Br)return Vo(t);throw new tn(357,typeof t)}function Yo(t,n){var e=Xo(t,n);return e?" WHERE "+e:""}function $o(t,n){var e="UPDATE "+t.table.getName()+" SET ",e=e+t.set.map(function(t){var n=t.J.j()+" = ";return-1!=t.Wc?n+"?"+t.Wc.toString():n+Go(t.J.I(),t.value).toString()}).join(", ");return t.w&&(e+=Yo(t.w,n)),e+";"}function Zo(t,n){var e="*";if(t.f.length&&(e=t.f.map(function(t){return t.$a()?t.j()+" AS "+t.$a():t.j()}).join(", ")),e="SELECT "+e+" FROM ",null!=t.cb&&0!=t.cb.size?e+=tu(t,n):(e+=t.from.map(Qo).join(", "),t.w&&(e+=Yo(t.w,n))),t.N)var i=t.N.map(function(t){return t.J.j()+(0==t.sb?" DESC":" ASC")}).join(", "),e=e+(" ORDER BY "+i);return t.la&&(i=t.la.map(function(t){return t.j()}).join(", "),e+=" GROUP BY "+i),t.X&&(e+=" LIMIT "+t.X.toString()),t.L&&(e+=" SKIP "+t.L.toString()),e+";"}function Qo(t){return Kr(t)!=t.getName()?t.getName()+" AS "+Kr(t):t.getName()}function tu(t,n){for(var e=Or(t.w,function(t){return t instanceof Br}),i=e.map(Vo),r=Qo(t.from[0]),o=1;o<t.from.length;o++)var u=Qo(t.from[o]),r=t.cb.has(e[i.length-o].W())?r+(" LEFT OUTER JOIN "+u):r+(" INNER JOIN "+u),r=r+(" ON ("+i[i.length-o]+")");return e=he(t.w,0),e instanceof Br||(r+=" WHERE "+Xo(e,n)),r}function nu(t,n){var e=n||!1,i=t.query.clone();if(i instanceof Uo)return Jo(i,e);if(i instanceof Po){var r="DELETE FROM "+i.from.getName();return i.w&&(r+=Yo(i.w,e)),r+";"}if(i instanceof _o)return $o(i,e);if(i instanceof Ae)return Zo(i,e);throw new tn(358,typeof i)}function eu(t,n){this.global=t,this.Jg=t.b(Hh),this.Ia=t.b(Vh),this.query=n}function iu(t){if(null==t.hf){var n;n=t.Jg;var e=t.query,i=n.sg.create(e);n=n.Gg.create(i,e),t.hf=n}return t.hf}function ru(t){eu.call(this,t,new Po(t.b(Yh)))}function ou(t,n){eu.call(this,t,new Uo(t.b(Yh))),this.query.dc=n||!1}function uu(t){return su("and",Array.prototype.slice.call(arguments))}function su(t,n){var e=new kr(t);return n.forEach(function(t){fe(e,t)}),e}function au(t,n){eu.call(this,t,new Ae(t.b(Yh))),this.Ne=this.Cd=!1,this.query.f=n,hu(this),lu(this)}function hu(t){var n=t.query.f.filter(function(t){return t instanceof Vr&&"DISTINCT"==t.Ob},t);if(0!=n.length&&(1!=n.length||1!=t.query.f.length))throw new tn(524)}function cu(t){var n=t.query.f.filter(function(t){return!(t instanceof Vr)}).map(function(t){return t.j()}),e=!1;if(0==t.query.la.length||0==t.query.f.length)e=!0;else{var i=t.query.la.map(function(t){return t.j()});(e=n.some(function(t){return-1==i.indexOf(t)}))||(e=t.query.la.some(function(t){return t=t.I(),6==t||0==t}))}if(e)throw new tn(525)}function fu(t){var n=t.query.f.some(function(t){return t instanceof Vr},t);if(t=t.query.f.some(function(t){return!(t instanceof Vr)},t)||0==t.query.f.length,n&&t)throw new tn(526)}function lu(t){t.query.f.forEach(function(t){if(t instanceof Vr&&!yu(t.Ob,t.I()))throw new tn(527,t.j())},t)}function pu(t,n){if(null==t.query.from)throw new tn(n)}function du(t,n){if(null!=t.query.w){var e=uu(n,t.query.w);t.query.w=e}else t.query.w=n}function yu(t,n){switch(t){case"COUNT":case"DISTINCT":return!0;case"AVG":case"GEOMEAN":case"STDDEV":case"SUM":return 4==n||3==n;case"MAX":case"MIN":return 4==n||3==n||5==n||2==n}return!1}function gu(t,n){eu.call(this,t,new _o(t.b(Yh))),this.query.table=n}function bu(t){this.query=t,this.Ha=null}function vu(t){bu.call(this,t)}function mu(t){bu.call(this,t)}function wu(t,n,e){this.Ha=t,this.le=n,this.Yb=e}function Eu(t,n){bu.call(this,t),this.Yb=n}function Su(){}function Nu(){this.Vc=Lt()}function Tu(t,n,e,i){var r=e;if(xu(n,e))r=jr(e),Tu(t,n,e,i);else if(qu(e)){var o=[],r=Ir(e,i,function(t){return t=new wo(t.O),o.push(t),t});o.forEach(function(t){Tu(this,n,t,i)},t)}return r}function Au(t,n,e){var i=Lt();return Ar(n).forEach(function(t){i.add(t.table)},t),n instanceof Eo&&i.add(n.table),Ft(i,e)}function qu(t){return t=he(t,0),t instanceof So||t instanceof Io}function xu(t,n){var e=he(n,0);if(!(e instanceof wo))return!1;if(null==t.cb)return!0;var i=n.O instanceof Br,e=t.cb.has(e.O.W());return i||!e}function ju(t,n){bu.call(this,t),this.Yb=n,this.mf=this.cf=this.vf=this.ff=this.Ee=this.Se=this.uf=this.Ke=this.xf=null}function Iu(t){for(var n=[t.cf,t.vf,t.mf,t.ff,t.Ee,t.Se,t.uf,t.Ke],e=-1,i=null,r=0;r<n.length;r++){var o=n[r];null!==o&&(null===i?i=o:fe(n[e],o),e=r)}return t.xf.forEach(function(t){fe(n[e],t)}),i}function Cu(t){t.xf=t.query.from.map(function(t){return new Eo(t)},t)}function Ou(t){var n=t.query.f.filter(function(t){return t instanceof Vr});null!=t.query.N&&t.query.N.forEach(function(t){t.J instanceof Vr&&n.push(t.J)}),0<n.length&&(t.Ee=new Ao(n))}function Mu(){this.se=[new Oo,new Ro,new Nu,new Su],this.Rd=[new Oo]}function ku(t){Qr.call(this,0,1),this.U=t}function Ru(t,n){Qr.call(this,0,-1),this.table=n,this.D=t.b(Kh)}function Du(t,n){Qr.call(this,0,-1),this.V=t.b(Wh),this.D=t.b(Kh),this.table=n}function Bu(t){this.c=t}function Lu(t){Qr.call(this,0,1),this.Re=t}function Pu(t,n){var e=new nn,i=function(t){return this.Re.map(function(n){return Hn(t,n)},this).join(",")}.bind(t);return n.entries.forEach(function(t){e.set(i(t),t)},t),e.keys().map(function(t){return new Pn(e.get(t),n.s())},t)}function Fu(t,n,e){Qr.call(this,0,0),this.D=t.b(Kh),this.V=t.b(Wh),this.O=n,this.Ub=e,this.Fd="eq"==this.O.C?0:2,this.Ue=null}function Uu(t,n){t.Fd=1;var e=t.D.get(n.Ca().j());t.Ue={fg:n,yg:n==t.O.ga?t.O.na:t.O.ga,index:e}}function _u(t){Qr.call(this,0,-1),this.nf=t}function zu(){}function Gu(t){t=t.map(function(t){return t.ra()}),t=ct.apply(null,t);var n=[];return ht(t,function(t){n.push(t)}),n}function Ju(t){this.Tb=t}function Wu(t,n){this.Tb=t,this.Ga=n,this.Nd=this.af=null}function Ku(t,n){var e=mt();return t.Ga.keys().forEach(function(t){var i=this.Ga.get(t).map(function(t){return Ee(n,t)},this),r=new Bn([Cn()]);i.forEach(function(t){r=Ln(r,t.xe())}),e.set(t,r)},t),e}function Hu(t,n){var e=mt(),i=0;return t.Tb.f.forEach(function(t){e.set(t.ba.getName(),i),i++}),wt(n).sort(function(t,n){return e.get(t)-e.get(n)}).map(function(t){return n.get(t)})}function Vu(t,n){this.zd=n,this.D=t.b(Kh)}function Xu(t){return t=t.D.get(Hr(t.zd)),Math.floor(.02*t.Y().ia)}function Yu(t,n,e){if(e=e.filter(t.mg,t),0==e.length)return null;if(t=$u(t,e),0==t.length)return null;if(1==t.length)return t[0];var i=Number.MAX_VALUE;return t.reduce(function(t,e){var r=ns(e,n);return i>r?(i=r,e):t},null)}function $u(t,n){return t.zd.Da().map(function(t){return t=new Zu(this.D,t),ts(t,n),t},t).filter(function(t){if(null===t.Ga)t=!1;else{for(var n=!1,e=!0,i=0;i<t.bb.f.length;i++){var r=t.Ga.has(t.bb.f[i].ba.getName());if(n&&r){e=!1;break}r||(n=!0)}t=e}return t})}function Zu(t,n){this.D=t,this.bb=n,this.gg=Lt(this.bb.f.map(function(t){return t.ba.getName()})),this.be=this.Ga=null}function Qu(t){return null===t.be&&(t.be=new Wu(t.bb,t.Ga)),t.be}function ts(t,n){n.forEach(function(t){var n=t.nb()[0].getName();this.gg.has(n)&&(null===this.Ga&&(this.Ga=new nn),this.Ga.set(n,t.W()))},t)}function ns(t,n){var e=Qu(t).dd(n),i=t.D.get(t.bb.j());return e.reduce(function(t,n){return t+i.ad(n)},0)}function es(t,n,e,i){Qr.call(this,0,-1),this.D=t.b(Kh),this.index=n,this.$e=e,this.pe=i,this.Uc=this.Tc=!1}function is(){Qr.call(this,0,0)}function rs(t){Qr.call(this,0,1),this.mc=t}function os(t,n){Qr.call(this,0,1),this.V=t.b(Wh),this.U=n}function us(t){this.c=t}function ss(t){var n=[];for(t=t.getParent();t;){if(t instanceof rs)n.push(t);else if(t instanceof Fu)break;t=t.getParent()}return n}function as(t,n,e,i){return(null===n.Ga?[]:n.Ga.values()).map(function(t){return e.get(t)}).forEach(qr),n=new es(t.c,n.bb,Qu(n),!1),t=new os(t.c,i.table),fe(t,n),Cr(i,i,t,n),n.ab()}function hs(t,n){Qr.call(this,0,-1),this.D=t.b(Kh),this.U=n}function cs(t,n,e){if(t=t.Jb().ed(),null===t?0:t.f[0].autoIncrement){var i=t.f[0].ba.getName();e=e.get(t.j()).Y().Ic;var r=null===e?0:e;n.forEach(function(t){0!=t.m[i]&&null!=t.m[i]||(r++,t.m[i]=r)})}}function fs(t,n){Qr.call(this,0,-1),this.D=t.b(Kh),this.U=n}function ls(){Qr.call(this,0,1)}function ps(t){Qr.call(this,0,1),this.N=t}function ds(t,n){this.Ma=t,this.K=n}function ys(t){return t.K.some(function(t){return t instanceof Vr},t)?gs(t):bs(t)}function gs(t){if(1==t.K.length&&"DISTINCT"==t.K[0].Ob)return t=_n(t.Ma,t.K[0]).entries.map(function(t){var n=new Kn(new St(-1,{}),1<this.Ma.M.size);return Vn(n,this.K[0],Hn(t,this.K[0].child)),n},t),new Pn(t,[]);var n=new Kn(new St(-1,{}),1<t.Ma.M.size);return t.K.forEach(function(t){var e=t instanceof Vr?_n(this.Ma,t):Hn(this.Ma.entries[0],t);Vn(n,t,e)},t),new Pn([n],t.Ma.s())}function bs(t){var n=Array(t.Ma.entries.length),e=1<t.Ma.M.size;return t.Ma.entries.forEach(function(t,i){n[i]=new Kn(new St(t.va.id(),{}),e),this.K.forEach(function(e){Vn(n[i],e,Hn(t,e))},this)},t),new Pn(n,t.Ma.s())}function vs(t,n){var e=t.map(function(t){return ys(new ds(t,n)).entries[0]});return new Pn(e,t[0].s())}function ms(t,n){Qr.call(this,0,1),this.f=t,this.Sb=n}function ws(t){return t.f.some(function(t){return t instanceof Vr})||null!==t.Sb}function Es(){Qr.call(this,0,1)}function Ss(){}function Ns(t){return t=Or(t,function(t){return t instanceof es},function(t){return t instanceof ms&&ws(t)||t instanceof ps||1!=ae(t).length||t instanceof rs}),0<t.length?t[0]:null}function Ts(t){this.c=t}function As(t,n){return Or(t.G,function(t){return t instanceof rs?(t=Ee(n,t.mc),t instanceof kr&&"or"==t.rb):!1})}function qs(t,n){return Or(t.G,function(t){return t instanceof Du&&t.table.getName()==n})[0]||null}function xs(t,n,e){n=Ee(e,n.mc);var i=n.s();if(1!=i.size)return null;var i=Pt(i)[0],r=new Vu(t.c,i),o=null;return ae(n).every(function(t){return t=Yu(r,e,[t]),null===t||(null===o?o=[t]:o.push(t)),null!==t})?o:null}function js(t,n,e,i){var r=new os(t.c,e.table),o=new is;return fe(r,o),i.forEach(function(t){t=new es(this.c,t.bb,Qu(t),!1),fe(o,t)},t),qr(n),Cr(e,e,r,o),o.ab()}function Is(t){this.c=t}function Cs(t){return t=Or(t,function(t){return t instanceof es},function(t){return 1!=ae(t).length}),0<t.length?t[0]:null}function Os(t){return t=Or(t,function(t){return t instanceof Du},function(t){return 1!=ae(t).length}),0<t.length?t[0]:null}function Ms(t,n){return o(n.N)?Or(t,function(t){return t instanceof ps})[0]:null}function ks(t,n){if(t.f.length!=n.length||!n.every(function(n,e){return n.J.getName()==t.f[e].ba.getName()}))return null;var e=Rs(n,t);return e[0]||e[1]?{bb:t,Xe:e[1]}:null}function Rs(t,n){var e=t.reduce(function(t,n){return t<<1|(0==n.sb?0:1)},0),i=n.f.reduce(function(t,n){return t<<1|(0==n.sb?0:1)},0),e=e^i;return[0==e,e==Math.pow(2,Math.max(t.length,n.f.length))-1]}function Ds(t,n,e){this.Ha=t,this.le=n,this.Yb=e}function Bs(t){Qr.call(this,0,1),this.U=t}function Ls(t){this.c=t,this.se=[new zu,new us(this.c),new Ts(this.c),new Is(this.c),new Ss,new Bu(this.c)],this.Rd=[new us(this.c)]}function Ps(t,n,e,i){return t=Tr(n.ab(),t.vg.bind(t)),null!=i&&(t=new Ds(t,e,i).jc()),new xe(t,n.da())}function Fs(t){this.sg=new Mu,this.Gg=new Ls(t)}function Us(){this.df=mt()}function _s(t,n){var e=t.df.get(n.getName())||null;return null===e&&(e=new Ks,t.df.set(n.getName(),e)),e}function zs(t,n,e,i){e.forEach(function(t){t=_s(this,t),0==i?(t.eb=null,t.zc=n):3==i?(null===t.ac&&(t.ac=Lt()),t.ac.add(n),null===t.Xa&&(t.Xa=Lt()),t.Xa["delete"](n)):1==i?(null===t.Xa&&(t.Xa=Lt()),t.Xa.add(n)):2==i&&(t.eb=n)},t)}function Gs(t,n,e,i){var r=!0;return e.forEach(function(t){if(r){t=_s(this,t);var e=null===t.Xa||0==t.Xa.size;r=0==i?(null===t.ac||0==t.ac.size)&&e&&null===t.zc&&null!==t.eb&&t.eb==n:3==i?null===t.zc&&null===t.eb&&null!==t.Xa&&t.Xa.has(n):1==i?null===t.eb:e&&(null===t.eb||t.eb==n)}},t),r}function Js(t,n,e,i){var r=Gs(t,n,e,i);return r&&zs(t,n,e,i),r}function Ws(t,n){n.forEach(function(t){_s(this,t).eb=null},t)}function Ks(){this.ac=this.Xa=this.eb=this.zc=null}function Hs(){this.Xb=new $s,this.Hc=new Us}function Vs(t,n){return(2>n.getPriority()||2>n.getPriority())&&Ws(t.Hc,n.da()),t.Xb.Db(n),Xs(t),n.Rb().ha}function Xs(t){for(var n=t.Xb.ra(),e=0;e<n.length;e++){var i=n[e],r=!1;(r=0==i.I()?Ys(t,i,1,3):Ys(t,i,2,0))&&(t.Xb.remove(i),r=t,i.exec().then(r.Dg.bind(r,i),r.Cg.bind(r,i)))}}function Ys(t,n,e,i){var r=!1;return Js(t.Hc,n.W(),n.da(),e)&&(r=Js(t.Hc,n.W(),n.da(),i)),r}function $s(){this.Xb=[]}function Zs(){this.Qc=mt()}function Qs(){return lc||(lc=new Zs),lc}function ta(){var t=Qs();return wt(t.Qc)}function na(t,n,e,i){return null!=t?null!=n?ua(t,n,e,i):oa(t):ra()}function ea(t){var n="";try{n=JSON.stringify(t)}catch(e){}return n}function ia(t){var n=Qs();return t=new Mt("ns_"+t),n.pd(t)?n.b(t):null}function ra(){var t={};return ta().forEach(function(n){"ns_"==n.substring(0,3)&&(n=n.substring(3),t[n]=ia(n).b(Yh).version())}),ea(t)}function oa(t){t=ia(t);var n={};if(null!=t){var e=t.b(Kh);t.b(Yh).pa().forEach(function(t){n[t.getName()]=e.get(Hr(t)).Y().ia})}return ea(n)}function ua(t,n,e,i){var r=ia(t);if(t=[],null!=r){var o=null;try{o=r.b(Yh).table(n)}catch(u){}null!=o&&(n=r.b(Kh),r=r.b(Wh),e=n.get(Hr(o)).Ua(void 0,!1,e,i),e.length&&(t=qi(r,e).map(function(t){return t.m})))}return ea(t)}function sa(t,n){this.Sd=Zn(),this.me=t,this.rd=n,this.K=aa(this)}function aa(t){if(0<t.me.f.length)return t.me.f;var n=[];return t.me.from.forEach(function(t){t.nb().forEach(function(t){n.push(t)})}),n}function ha(t,n,e){var i=null===n?[]:n.entries,r=et(i,e.entries,t.$.bind(t),function(t){return i[t]});n=[];for(var o=0,u=0;u<i.length;u++){var s=i[u];r[o]==s?o++:(s=t.rd.splice(o,1),s=ca(u,s,0,t.rd),n.push(s))}for(r=et(i,e.entries,t.$.bind(t),function(t,n){return e.entries[n]}),u=o=0;u<e.entries.length;u++)s=e.entries[u],r[o]==s?o++:(t.rd.splice(u,0,s.va.m),s=ca(u,[],1,t.rd),n.push(s));return n}function ca(t,n,e,i){return{addedCount:e,index:t,object:i,removed:n,type:"splice"}}function fa(){this.ic=mt()}function la(t,n){var e=Lt();n.forEach(function(t){e.add(t.getName())});var i=[];return t.ic.forEach(function(t){t=t.Ec(),t.context.from.some(function(t){return e.has(t.getName())})&&i.push(t)}),i}function pa(t,n,e){n=l(null!=n.Zc?n.Zc:n).toString(),t=t.ic.get(n)||null,null!==t&&ya(t,e)}function da(t){this.Jf=t,this.Kc=Lt(),this.Ag=[],this.bf=null,this.Uf=new sa(t.query,this.Ag)}function ya(t,n){var e=ha(t.Uf,t.bf,n);t.bf=n,0<e.length&&t.Kc.forEach(function(t){t(e)})}function ga(t,n){var e=t.b(Yh),i=n||{},r=new Ai(e);t.ub(Wh,r);var r=null,o=!1;switch(null!=i.storeType?r=i.storeType:(r=bt(),r=r.hg?0:r.Wg?4:1),r){case 0:r=new oi(t,e);
break;case 1:r=new fi(e);break;case 5:r=new pi(e);break;case 4:r=new Si(t,e,i.webSqlDbSize);break;case 3:r=new Je(e,i.firebase),o=!0;break;default:throw new tn(300)}t.ub(Jh,r);var u=new Nr;return t.ub(Kh,u),r.Ea(i.onUpgrade).then(function(){var n=new Fs(t);return t.ub(Hh,n),n=new Hs,t.ub(Vh,n),n=new fa,t.ub(Xh,n),u.Ea(e)}).then(function(){if(o){var n=new ke(t);n.Na.subscribe(n.fe.bind(n))}return i.enableInspector&&(window.top["#lfInspect"]=na),new br(t).Ea(e)})}function ba(t){this.c=t,this.g=t.b(Yh),this.aa=Lt(this.g.pa()),this.fb=J()}function va(t){var n=t.c.b(Kh),e=t.c.b(Wh),i={};return t.g.pa().forEach(function(t){var r=n.get(Hr(t)).Ua(),r=qi(e,r).map(function(t){return t.m});i[t.getName()]=r}),{name:t.g.name(),version:t.g.version(),tables:i}}function ma(t,n){this.c=t,this.g=t.b(Yh),this.aa=Lt(this.g.pa()),this.fb=J(),this.Ba=n,this.Na=t.b(Jh),this.V=t.b(Wh),this.D=t.b(Kh)}function wa(t){var n,e=new wn(t.c,t.aa),e=t.Na.Hb(t.I(),Pt(t.aa),e);for(n in t.Ba.tables){var i=t.g.table(n),r=t.Ba.tables[n].map(function(t){return i.Ab(t)}),o=e.H(n,i.mb,0);t.V.Zb(n,r);var u=t.D.oc.get(n)||[];r.forEach(function(t){u.forEach(function(n){var e=t.pb(n.getName());n.add(e,t.id())})}),o.put(r)}return e.ka()}function Ea(t,n){this.c=t,this.Na=t.b(Jh),this.Ia=t.b(Vh),this.Lb=t.b(Xh),this.aa=Lt(n),this.Qa=new wn(this.c,this.aa),this.fb=J(),this.Ac=J(),this.Ae=J()}function Sa(t){return Vs(t.Ia,t),t.Ae.ha}function Na(t,n){var e=n.Ec();return e.ke.ab().exec(t.Qa,e.context).then(function(t){return Fn(t[0])},function(t){this.Qa.Mb();var n=new tt(t.name);throw this.Ac.reject(n),t}.bind(t))}function Ta(t){this.c=t,this.Ia=t.b(Vh),this.Nb=null,this.Sa=0,0==pc.size&&(pc.set(0,Lt([1,4])),pc.set(1,Lt([2])),pc.set(2,Lt([3,5,6])),pc.set(3,Lt([2,7])),pc.set(4,Lt([7])),pc.set(5,Lt([7])),pc.set(6,Lt([7])))}function Aa(t,n){var e=pc.get(t.Sa)||null;if(null===e||!e.has(n))throw new tn(107,t.Sa,n);t.Sa=n}function qa(t){this.c=t,this.g=t.b(Yh),this.ld=!1}function xa(t){if(!t.ld)throw new tn(2)}function ja(t,n,e,i,r,o){this.U=t,this.A=n,this.Ye=e,this.We=i,this.zf=r,this.jb=o||null}function Ia(t){this.g=t,this.Kd=new nn,this.oe=new nn,this.gf=new nn,this.Je=mt(),this.h=new nn,this.Fe=new nn,this.pf=new nn,this.Ie=new nn,Ca(this)}function Ca(t){t.g.pa().forEach(function(t){var n=t.getName();t.Jb().Xd().forEach(function(e){this.gf.set(n,this.g.table(e.Wa)),this.h.set(e.Wa,t),0==e.action?(this.oe.set(e.Wa,e),this.pf.set(e.Wa,t)):(this.Kd.set(e.Wa,e),this.Fe.set(e.Wa,t)),this.Je.set(t.getName()+"."+e.yb,e.Wa),this.Ie.set(e.Wa+"."+e.Mc,t.getName())},this)},t)}function Oa(t,n,e){return null!=e?1==e?t.Kd.get(n):t.oe.get(n):(e=t.Kd.get(n),t=t.oe.get(n),null===e&&null===t?null:(e||[]).concat(t||[]))}function Ma(t,n){var e=n.get(t);return null===e?[]:e}function ka(t,n){var e=Lt();return n.forEach(function(t){(t=this.Je.get(t))&&e.add(t)},t),Pt(e).map(function(t){return this.g.table(t)},t)}function Ra(t,n,e){return null!=e?0==e?Ma(n,t.pf):Ma(n,t.Fe):Ma(n,t.h)}function Da(t,n){var e=Lt();return n.forEach(function(t){(t=this.Ie.get(t))&&t.forEach(function(t){e.add(t)})},t),Pt(e).map(function(t){return this.g.table(t)},t)}function Ba(t,n,e){this.Hg=t,this.zg=n,this.ag=e}function La(t,n,e){var i=t.ref.split(".");if(2!=i.length)throw new tn(540,e);this.He=n,this.yb=t.local,this.Wa=i[0],this.Mc=i[1],this.name=n+"."+e,this.action=t.action,this.timing=t.timing}function Pa(t){Ua(t),this.Sd=Zn(),this.A=t,this.K=mt(),this.Bd=Lt(),this.qc=Lt(),this.qd=Lt(),this.Fa=null,this.ta=mt(),this.ud=!1,this.Bb=[]}function Fa(t){this.name=t.name,this.sb=t.order,this.autoIncrement=t.autoIncrement}function Ua(t){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(t))throw new tn(502,t)}function _a(t,n){if(n==t.A)throw new tn(546,n);if(t.K.has(n)||t.ta.has(n)||t.qc.has(n))throw new tn(503,t.A+"."+n)}function za(t,n){var e=!1;if(n.forEach(function(t){var n=this.K.get(t.name);if(e=e||t.autoIncrement,t.autoIncrement&&3!=n)throw new tn(504)},t),e&&1<n.length)throw new tn(505)}function Ga(t){if(null!==t.Fa){var n=t.ta.get(t.Fa).map(function(t){return t.name}),e=0;if(t.Bb.some(function(t,i){return e=i,-1!=n.indexOf(t.yb)},t))throw new tn(543,t.Bb[e].name)}}function Ja(t){if(null!==t.Fa){var n=function(t){return t.name},e=JSON.stringify(t.ta.get(t.Fa).map(n));t.ta.forEach(function(t,i){if(i!=this.Fa){var r=t.map(n);if(JSON.stringify(r)==e)throw new tn(544,this.A+"."+i)}},t)}}function Wa(t){null===t.Fa||t.ta.get(t.Fa).forEach(function(t){if(this.qd.has(t.name))throw new tn(545,this.A+"."+t.name)},t)}function Ka(t,n){t.Bb.forEach(function(t){t.yb==n&&this.qc.add(t.name.split(".")[1])},t)}function Ha(t,n,e,i,r){var o=n,o="string"==typeof n[0]?n.map(function(t){return new Fa({name:t,order:null!=i?i:1,autoIncrement:r||!1})}):n.map(function(t){return new Fa(t)});return o.forEach(function(t){if(!this.K.has(t.name))throw new tn(508,this.A,t.name);if(e){var n=this.K.get(t.name);if(0==n||6==n)throw new tn(509,this.A,t.name)}},t),o}function Va(t){function n(){function n(n){return t.ta.get(n).map(function(t){return{ba:this[t.name],sb:t.sb,autoIncrement:t.autoIncrement}},this)}var e=wt(t.K).map(function(n){return this[n]=new ja(this,n,t.Bd.has(n),t.qd.has(n),t.K.get(n)),this[n]},this),i=wt(t.ta).map(function(e){return new Gr(t.A,e,t.qc.has(e),n.call(this,e))},this);Wr.call(this,t.A,e,i,t.ud);var r=null===t.Fa?null:new Gr(t.A,t.Fa,!0,n.call(this,t.Fa)),o=e.filter(function(n){return!t.qd.has(n.getName())});this.Nf=new Ba(r,o,t.Bb),this.sf=Xa(t,e,i)}return v(n,Wr),n.prototype.Ab=function(t){return new this.sf(zh++,t)},n.prototype.createRow=n.prototype.Ab,n.prototype.mb=function(t){var n={};return this.nb().forEach(function(e){var i=e.getName();e=e.I();var r=t.value[i];if(0==e)if(e=r,null!=e&&""!=e){0!=e.length%2&&(e="0"+e);for(var r=new ArrayBuffer(e.length/2),o=new Uint8Array(r),u=0,s=0;u<e.length;u+=2)o[s++]=parseInt(e.substr(u,2),16);e=r}else e=null;else e=2==e?null!=r?new Date(r):null:r;n[i]=e},this),new this.sf(t.id,n)},n.prototype.deserializeRow=n.prototype.mb,n.prototype.Jb=i("Nf"),n.prototype.getConstraint=n.prototype.Jb,n}function Xa(t,n,e){function i(t,i){this.K=n,this.ta=e,St.call(this,t,i)}v(i,St),i.prototype.Le=function(){var t={};return this.K.forEach(function(n){t[n.getName()]=n.kc()?null:ec[n.I()]}),t},i.prototype.yf=function(){var t={};return this.K.forEach(function(n){var e=n.getName();n=n.I();var i=this.m[e];t[e]=0==n?null!=i?At(i):null:2==n?null!=i?i.getTime():null:6==n?null!=i?i:null:i},this),t};var r=function(t){var n=this.K.get(t.getName()),e=this.Sd.Ze.get(n)||null;return function(n){return e(n[t.getName()])}}.bind(t),o=function(t){var n=t.map(function(t){return r(t.ba)});return function(t){return n.map(function(n){return n(t)})}}.bind(t),u={};return e.forEach(function(t){var n=t.j();t=1==t.f.length?r(t.f[0].ba):o(t.f),u[n]=t}),i.prototype.pb=function(t){return-1!=t.indexOf("#")?this.id():u.hasOwnProperty(t)?u[t](this.m):null},i}function Ya(t,n){this.g=new eh(t,n),this.wb=mt(),this.Bc=!1,this.i=null}function $a(t,n){n.Bb.forEach(function(t){var e=t.Wa;if(!this.wb.has(e))throw new tn(536,t.name);var e=this.wb.get(e).Cb(),i=t.Mc;if(!e.hasOwnProperty(i))throw new tn(537,t.name);if(n.Cb()[t.yb].I()!=e[i].I())throw new tn(538,t.name);if(!e[i].Gc())throw new tn(539,t.name)},t)}function Za(t){t.Bc||(t.wb.forEach(function(t){$a(this,t),t=t.Cb(),this.g.M.set(t.getName(),t)},t),Et(t.wb).forEach(t.Mf,t),th(t),t.wb.clear(),t.Bc=!0)}function Qa(t,n,e){n.ze||(n.ze=!0,n.ge=!0,n.Me.forEach(function(t){if(t=e.get(t),t.ze){if(t.ge&&n!=t)throw new tn(533)}else Qa(this,t,e)},t)),n.ge=!1}function th(t){var n=mt();t.g.M.forEach(function(t,e){n.set(e,new nh(e))},t),t.wb.forEach(function(t,e){t.Bb.forEach(function(t){n.get(t.Wa).Me.add(e)})}),Et(n).forEach(function(t){Qa(this,t,n)},t)}function nh(t){this.ge=this.ze=!1,this.Me=Lt(),this.pc=t}function eh(t,n){this.A=t,this.Ta=n,this.M=mt(),this.lf={Vf:!1}}var ih,rh=this,oh="closure_uid_"+(1e9*Math.random()>>>0),uh=0;v(m,Error),m.prototype.name="CustomError";var sh=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};S.prototype.get=function(){var t;return 0<this.td?(this.td--,t=this.jd,this.jd=t.next,t.next=null):t=this.Rf(),t},S.prototype.put=function(t){this.Mg(t),this.td<this.rg&&(this.td++,t.next=this.jd,this.jd=t)};var ah,hh=Array.prototype.indexOf?function(t,n,e){return Array.prototype.indexOf.call(t,n,e)}:function(t,n,e){if(e=null==e?0:0>e?Math.max(0,t.length+e):e,c(t))return c(n)&&1==n.length?t.indexOf(n,e):-1;for(;e<t.length;e++)if(e in t&&t[e]===n)return e;return-1},ch=Array.prototype.forEach?function(t,n,e){Array.prototype.forEach.call(t,n,e)}:function(t,n,e){for(var i=t.length,r=c(t)?t.split(""):t,o=0;i>o;o++)o in r&&n.call(e,r[o],o,t)},fh=Array.prototype.map?function(t,n,e){return Array.prototype.map.call(t,n,e)}:function(t,n,e){for(var i=t.length,r=Array(i),o=c(t)?t.split(""):t,u=0;i>u;u++)u in o&&(r[u]=n.call(e,o[u],u,t));return r},lh=Array.prototype.reduce?function(t,n,e,i){return i&&(n=y(n,i)),Array.prototype.reduce.call(t,n,e)}:function(t,n,e,i){var r=e;return ch(t,function(e,o){r=n.call(i,r,e,o,t)}),r},ph=Array.prototype.some?function(t,n,e){return Array.prototype.some.call(t,n,e)}:function(t,n,e){for(var i=t.length,r=c(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&n.call(e,r[o],o,t))return!0;return!1};t:{var dh=rh.navigator;if(dh){var yh=dh.userAgent;if(yh){ah=yh;break t}}ah=""}var gh,bh=new S(function(){return new k},function(t){t.reset()},100);M.prototype.add=function(t,n){var e=bh.get();e.set(t,n),this.Dd?this.Dd.next=e:this.rc=e,this.Dd=e},M.prototype.remove=function(){var t=null;return this.rc&&(t=this.rc,this.rc=this.rc.next,this.rc||(this.Dd=null),t.next=null),t},k.prototype.set=function(t,n){this.Vd=t,this.scope=n,this.next=null},k.prototype.reset=function(){this.next=this.scope=this.Vd=null};var vh,mh=!1,wh=new M;P.prototype.reset=function(){this.context=this.lc=this.Lc=this.child=null,this.Gd=!1};var Eh=new S(function(){return new P},function(t){t.reset()},100);L.prototype.then=function(t,n,e){return K(this,f(t)?t:null,f(n)?n:null,e)},L.prototype.then=L.prototype.then,L.prototype.$goog_Thenable=!0,L.prototype.we=function(t,n){return K(this,null,t,n)},L.prototype.Sg=function(t){this.Sa=0,H(this,2,t)},L.prototype.Tg=function(t){this.Sa=0,H(this,3,t)},L.prototype.Yf=function(){for(var t=null;t=$(this);){var n=this.Sa,e=this.qf;if(3==n&&t.lc&&!t.Gd)for(var i=void 0,i=this;i&&i.hd;i=i.F)i.hd=!1;if(t.child)t.child.F=null,Z(t,n,e);else try{t.Gd?t.Lc.call(t.context):Z(t,n,e)}catch(r){Sh.call(null,r)}Eh.put(t)}this.Td=!1};var Sh=C;v(tt,m),tt.prototype.name="cancel";var Nh="StopIteration"in rh?rh.StopIteration:{message:"StopIteration",stack:""};st.prototype.next=function(){throw Nh},st.prototype.sc=function(){return this},ih=ft.prototype,ih.Cc=i("Gb"),ih.ra=function(){pt(this);for(var t=[],n=0;n<this.a.length;n++)t.push(this.l[this.a[n]]);return t},ih.Oa=function(t){return dt(this.l,t)},ih.md=function(){return 0==this.Gb},ih.clear=function(){this.l={},this.Ta=this.Gb=this.a.length=0},ih.remove=function(t){return dt(this.l,t)?(delete this.l[t],this.Gb--,this.Ta++,this.a.length>2*this.Gb&&pt(this),!0):!1},ih.get=function(t,n){return dt(this.l,t)?this.l[t]:n},ih.set=function(t,n){dt(this.l,t)||(this.Gb++,this.a.push(t),this.Ta++),this.l[t]=n},ih.addAll=function(t){var n;if(t instanceof ft)n=lt(t),t=t.ra();else{n=[];var e,i=0;for(e in t)n[i++]=e;t=q(t)}for(i=0;i<n.length;i++)this.set(n[i],t[i])},ih.forEach=function(t,n){for(var e=lt(this),i=0;i<e.length;i++){var r=e[i],o=this.get(r);t.call(n,o,r,this)}},ih.clone=function(){return new ft(this)},ih.sc=function(t){pt(this);var n=0,e=this.Ta,i=this,r=new st;return r.next=function(){if(e!=i.Ta)throw Error("The map has changed since the iterator was created");if(n>=i.a.length)throw Nh;var r=i.a[n++];return t?r:i.l[r]},r};var Th,Ah=j(),qh=x("Trident")||x("MSIE"),xh=x("Edge"),jh=x("Gecko")&&!(-1!=ah.toLowerCase().indexOf("webkit")&&!x("Edge"))&&!(x("Trident")||x("MSIE"))&&!x("Edge"),Ih=-1!=ah.toLowerCase().indexOf("webkit")&&!x("Edge");t:{var Ch="",Oh=function(){var t=ah;return jh?/rv\:([^\);]+)(\)|;)/.exec(t):xh?/Edge\/([\d\.]+)/.exec(t):qh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Ih?/WebKit\/(\S+)/.exec(t):Ah?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Oh&&(Ch=Oh?Oh[1]:""),qh){var Mh,kh=rh.document;if(Mh=kh?kh.documentMode:void 0,null!=Mh&&Mh>parseFloat(Ch)){Th=String(Mh);break t}}Th=Ch}var Rh,Dh=Th,Bh={},Lh=yt()||x("iPod"),Ph=x("iPad"),Fh=I(),Uh=x("Safari")&&!(I()||x("Coast")||j()||x("Edge")||x("Silk")||x("Android"))&&!(yt()||x("iPad")||x("iPod"));vt.prototype.clear=function(){this.l.clear()},vt.prototype.clear=vt.prototype.clear,vt.prototype["delete"]=function(t){return this.l.remove(t)},vt.prototype["delete"]=vt.prototype["delete"],vt.prototype.forEach=function(t,n){return this.l.forEach(t,n)},vt.prototype.forEach=vt.prototype.forEach,vt.prototype.get=function(t){return this.l.get(t)},vt.prototype.get=vt.prototype.get,vt.prototype.has=function(t){return this.l.Oa(t)},vt.prototype.has=vt.prototype.has,vt.prototype.set=function(t,n){return this.l.set(t,n)},vt.prototype.set=vt.prototype.set;var _h=bt().wg,zh=0;ih=St.prototype,ih.id=i("sa"),ih.Le=function(){return{}},ih.yf=i("m"),ih.Ja=function(){return{id:this.sa,value:this.yf()}},ih.pb=function(t){return"#"==t.substr(-1)?this.sa:null};var Gh={};b("lf.TransactionType",Gh),Gh.READ_ONLY=0,Gh.READ_WRITE=1,b("lf.TransactionStats",qt),qt.prototype.Qg=i("yd"),qt.prototype.success=qt.prototype.Qg,qt.prototype.kg=i("lg"),qt.prototype.insertedRowCount=qt.prototype.kg,qt.prototype.Ug=i("Vg"),qt.prototype.updatedRowCount=qt.prototype.Ug,qt.prototype.Sf=i("Tf"),qt.prototype.deletedRowCount=qt.prototype.Sf,qt.prototype.Kf=i("Lf"),qt.prototype.changedTableCount=qt.prototype.Kf,xt.prototype.ka=function(){return(0==this.Ad?this.vc():jt(this)).then(function(t){return this.yd=!0,t}.bind(this))},xt.prototype.Te=function(t){this.S.reject(t)},xt.prototype.Y=function(){if(null===this.za)if(this.yd)if(0==this.Ad)this.za=new qt(!0,0,0,0,0);else{var t=0,n=0,e=0,i=0;this.Qa.ib.forEach(function(r){i++,t+=r.wa.size,e+=r.ma.size,n+=r.xa.size}),this.za=new qt(!0,t,e,n,i)}else this.za=new qt(!1,0,0,0,0);return this.za},Mt.prototype.toString=i("Ng");var Jh=new Mt("backstore"),Wh=new Mt("cache"),Kh=new Mt("indexstore"),Hh=new Mt("engine"),Vh=new Mt("runner"),Xh=new Mt("observerregistry"),Yh=new Mt("schema");ih=Rt.prototype,ih.Cc=function(){return this.l.Cc()},ih.add=function(t){this.l.set(Dt(t),t)},ih.addAll=function(t){t=kt(t);for(var n=t.length,e=0;n>e;e++)this.add(t[e])},ih.remove=function(t){return this.l.remove(Dt(t))},ih.clear=function(){this.l.clear()},ih.md=function(){return this.l.md()},ih.contains=function(t){return this.l.Oa(Dt(t))},ih.ra=function(){return this.l.ra()},ih.clone=function(){return new Rt(this)},ih.sc=function(){return this.l.sc(!1)},Bt.prototype.add=function(t){this.$b.add(t)},Bt.prototype.add=Bt.prototype.add,Bt.prototype.clear=function(){this.$b.clear()},Bt.prototype.clear=Bt.prototype.clear,Bt.prototype["delete"]=function(t){return this.$b.remove(t)},Bt.prototype["delete"]=Bt.prototype["delete"],Bt.prototype.forEach=function(t,n){this.$b.ra().forEach(t,n)},Bt.prototype.has=function(t){return this.$b.contains(t)},Bt.prototype.has=Bt.prototype.has;var $h=bt().xg;Ut.prototype.W=i("sa"),Ut.prototype.Ja=function(){return{id:this.sa,value:JSON.stringify(this.m)}},ih=Wt.prototype,ih.get=function(t){if(0==t.length)return this.Wd();var n=this.Ib;return Kt(this,t).then(function(e){return t.map(function(t){var i=e.get(t>>9);return n(i.m[t])})})},ih.Wd=function(){return new L(function(t,n){var e,i=[];try{e=this.Z.openCursor()}catch(r){return void n(r)}e.onerror=n,e.onsuccess=function(){var n=e.result;if(n){var r,o=Jt(n.value).m;for(r in o)i.push(this.Ib(o[r]));n["continue"]()}else t(i)}.bind(this)},this)},ih.Wb=function(t){return new L(function(n,e){var i;try{i=t()}catch(r){return void e(r)}i.onsuccess=n,i.onerror=e},this)},ih.put=function(t){if(0==t.length)return U();var n=mt();return t.forEach(function(t){var e=t.id()>>9,i=n.get(e)||null;null===i&&(i=this.rf(this.Z.name,e)),zt(i,[t]),n.set(e,i)},this),t=Et(n).map(function(t){return this.Wb(function(){return this.Z.put(t.Ja())}.bind(this))},this),G(t)},ih.remove=function(t){if(0==t.length)return this.Wb(function(){return this.Z.clear()}.bind(this));var n=mt();return t.forEach(function(t){var e=t>>9,i=n.get(e)||null;null===i&&(i=this.rf(this.Z.name,e)),Gt(i,[t]),n.set(e,i)},this),t=Et(n).map(function(t){return this.Wb(function(){return 0==Object.keys(t.m).length?this.Z["delete"](t.W()):this.Z.put(t.Ja())}.bind(this))},this),G(t)},Xt.prototype.update=function(t){t.forEach(function(t){$t(this,t),Yt(this,t)},this)};var Zh={};b("lf.ConstraintAction",Zh),Zh.RESTRICT=0,Zh.CASCADE=1;var Qh={};b("lf.ConstraintTiming",Qh),Qh.IMMEDIATE=0,Qh.DEFERRABLE=1;var tc={};b("lf.Order",tc),tc.DESC=0,tc.ASC=1;var nc={};b("lf.Type",nc),nc.ARRAY_BUFFER=0,nc.BOOLEAN=1,nc.DATE_TIME=2,nc.INTEGER=3,nc.NUMBER=4,nc.STRING=5,nc.OBJECT=6;var ec={0:null,1:!1,2:Object.freeze(new Date(0)),3:0,4:0,5:"",6:null};b("lf.type.DEFAULT_VALUES",ec),v(tn,Error),ih=nn.prototype,ih.has=function(t){return this.l.has(t)},ih.set=function(t,n){var e=this.l.get(t)||null;return null===e&&(e=Lt(),this.l.set(t,e)),e.has(n)||(e.add(n),this.size++),this},ih.Zb=function(t,n){var e=this.l.get(t)||null;return null===e&&(e=Lt(),this.l.set(t,e)),n.forEach(function(t){e.has(t)||(e.add(t),this.size++)},this),this},ih.ce=function(t){return t.keys().forEach(function(n){var e=t.get(n);this.Zb(n,e)},this),this},ih["delete"]=function(t,n){var e=this.l.get(t)||null;if(null===e)return!1;var i=e["delete"](n);return i&&(--this.size,0==e.size&&this.l["delete"](t)),i},ih.get=function(t){return t=this.l.get(t)||null,null===t?null:Pt(t)},ih.clear=function(){this.l.clear(),this.size=0},ih.keys=function(){return wt(this.l)},ih.values=function(){var t=[];return this.l.forEach(function(n){t.push.apply(t,Pt(n))}),t},ih=bn.prototype,ih.getName=i("A"),ih.add=function(t){if(this.xa.has(t.id())){var n=[this.xa.get(t.id()),t];this.ma.set(t.id(),n),this.xa["delete"](t.id())}else this.wa.set(t.id(),t)},ih.modify=function(t){var n=t[1],e=t[0].id();this.wa.has(e)?this.wa.set(e,n):(this.ma.has(e)&&(t=[this.ma.get(t[0].id())[0],n]),this.ma.set(e,t))},ih["delete"]=function(t){if(this.wa.has(t.id()))this.wa["delete"](t.id());else if(this.ma.has(t.id())){var n=this.ma.get(t.id())[0];this.ma["delete"](t.id()),this.xa.set(t.id(),n)}else this.xa.set(t.id(),t)},ih.ce=function(t){t.wa.forEach(function(t){this.add(t)},this),t.ma.forEach(function(t){this.modify(t)},this),t.xa.forEach(function(t){this["delete"](t)},this)},ih.toString=function(){return"["+wt(this.wa).toString()+"], ["+wt(this.ma).toString()+"], ["+wt(this.xa).toString()+"]"},ih.md=function(){return 0==this.wa.size&&0==this.xa.size&&0==this.ma.size},ih=wn.prototype,ih.da=i("aa"),ih.Db=function(t,n){qn(this,t),rn(this.Aa,t,n),pn(this.Aa,t,n,0);for(var e=0;e<n.length;e++)Sn(this,t,[null,n[e]])},ih.update=function(t,n){qn(this,t),rn(this.Aa,t,n);var e=n.map(function(t){return[this.V.get(t.id()),t]},this);Nn(this,t,e),dn(this.Aa,t,e,0),e.forEach(function(n){Sn(this,t,n)},this)},ih.Yd=function(t,n){qn(this,t),rn(this.Aa,t,n);for(var e=0;e<n.length;e++){var i,r=n[e],o=null,u=t.Jb().ed();if(null===u)i=null;else{i=this.Aa;var u=u.j(),s=r.pb(u);i=i.D.get(u).get(s),i=0==i.length?null:i[0]}null!=i?(o=this.V.get(i),r.sa=i,dn(this.Aa,t,[[o,r]],0)):pn(this.Aa,t,[r],0),Sn(this,t,[o,r])}},ih.remove=function(t,n){qn(this,t),Tn(this,t,n),yn(this.Aa,t,n,0);for(var e=0;e<n.length;e++)Sn(this,t,[n[e],null])},ih.ka=n(),ih.Mb=function(){var t=Et(this.ib).map(function(t){return mn(t)});this.kd.update(t)};var ic=new(n());xn.prototype.toString=function(){return(this.ea?"(":"[")+(this.from==ic?"unbound":this.from)+", "+(this.o==ic?"unbound":this.o)+(this.oa?")":"]")},xn.prototype.reverse=function(){return new xn(this.o,this.from,this.oa,this.ea)},xn.prototype.contains=function(t){var n=this.o==ic||t<this.o||t==this.o&&!this.oa;return(this.from==ic||t>this.from||t==this.from&&!this.ea)&&n},Bn.prototype.toString=function(){return this.nc.map(function(t){return t.toString()}).join(",")},Bn.prototype.Oa=function(t){return this.nc.some(function(n){return n.contains(t)})},Bn.prototype.ra=i("nc"),Bn.prototype.add=function(t){if(0!=t.length)if(t=this.nc.concat(t),1==t.length)this.nc=t;else{t.sort(Rn);for(var n=[],e=t[0],i=1;i<t.length;++i)if(In(e,t[i])){var r=t[i],o=Cn();if(e.from!=ic&&r.from!=ic){var u=kn(e.from,r.from,!0);1!=u?(o.from=e.from,o.ea=0!=u?e.ea:e.ea&&r.ea):(o.from=r.from,o.ea=r.ea)}e.o!=ic&&r.o!=ic&&(u=kn(e.o,r.o,!1),-1!=u?(o.o=e.o,o.oa=0!=u?e.oa:e.oa&&r.oa):(o.o=r.o,o.oa=r.oa)),e=o}else n.push(e),e=t[i];n.push(e),this.nc=n}},Pn.prototype.s=function(){return Pt(this.M)};var rc=null,oc=0;b("lf.bind",function(t){return new Yn(t)}),b("lf.Binder",Yn),Yn.prototype.Ca=i("fa");var uc,sc=[];ue.prototype.getParent=i("F"),ue.prototype.ab=function(){for(var t=this;null!==t.getParent();)t=t.getParent();return t},ue.prototype.removeChild=function(t){return le(this,ae(this).indexOf(t))},v(ye,ue);var ac=0;ye.prototype.W=i("sa"),v(ge,ye),ih=ge.prototype,ih.Pb=function(){var t=new ge(this.J,this.value,this.C);t.fc=this.fc,t.xd(this.Va);var n=this.W();return t.sa=n,t},ih.nb=function(t){return null!=t?(t.push(this.J),t):[this.J]},ih.s=function(t){return t=null!=t?t:Lt(),t.add(this.J.H()),t},ih.xd=e("Va"),ih.eval=function(t){if(be(this),"in"==this.C)return ve(this,t);var n=t.entries.filter(function(t){return this.yc(Hn(t,this.J),this.value)!=this.Va},this);return new Pn(n,t.s())},ih.bind=function(t){if(this.fc instanceof Yn){var n=this.fc.Ca();if(t.length<=n)throw new tn(510);this.value=t[n]}else"array"==s(this.fc)&&(this.value=this.fc.map(function(n){if(n instanceof Yn){var e=n.Ca();if(t.length<=e)throw new tn(510);return t[n.Ca()]}return n}))},ih.toString=function(){return"value_pred("+this.J.j()+" "+this.C+(this.Va?"(complement)":"")+" "+this.value+")"},ih.od=function(){return be(this),null!==this.value&&("between"==this.C||"in"==this.C||"eq"==this.C||"gt"==this.C||"gte"==this.C||"lt"==this.C||"lte"==this.C)},ih.xe=function(){var t=null;if("between"==this.C)t=new xn(me(this,this.value[0]),me(this,this.value[1]),!1,!1);else{if("in"==this.C)return t=this.value.map(function(t){return new xn(t,t,!1,!1)}),new Bn(this.Va?Dn(t):t);t=me(this,this.value),t="eq"==this.C?new xn(t,t,!1,!1):"gte"==this.C?new xn(t,ic,!1,!1):"gt"==this.C?new xn(t,ic,!0,!1):"lte"==this.C?new xn(ic,t,!1,!1):new xn(ic,t,!1,!0)}return new Bn(this.Va?jn(t):[t])},we.prototype.bind=function(){return this},v(Ae,we),Ae.prototype.da=function(){return Lt(this.from)},Ae.prototype.clone=function(){var t=new Ae(this.ba);return Ne(t,this),this.f&&(t.f=this.f.slice()),this.from&&(t.from=this.from.slice()),t.X=this.X,t.L=this.L,this.N&&(t.N=this.N.slice()),this.la&&(t.la=this.la.slice()),this.Vb&&(t.Vb=this.Vb),this.bc&&(t.bc=this.bc),t.cb=this.cb,t},Ae.prototype.bind=function(t){return Ae.hb.bind.call(this,t),null!=this.Vb&&(this.X=t[this.Vb.Ca()]),null!=this.bc&&(this.L=t[this.bc.Ca()]),Te(this,t),this},xe.prototype.ab=i("Ha"),xe.prototype.da=i("aa"),ih=Ie.prototype,ih.exec=function(){function t(){var o=i.shift();if(o){var u=r[e.length];return o.ab().exec(n,u).then(function(n){return e.push(n[0]),t()})}return U()}var n=0==this.ye?void 0:new wn(this.global,this.Od),e=[],i=this.jf.slice(),r=this.vd;return t().then(function(){return this.ja=this.Na.Hb(this.ye,Pt(this.Od),n),this.ja.ka()}.bind(this)).then(function(){return this.he(e),e}.bind(this),function(t){throw null!=n&&n.Mb(),t})},ih.I=i("ye"),ih.da=i("Od"),ih.Rb=i("fb"),ih.W=function(){return l(this)},ih.he=n(),ih.Y=function(){var t=null;return null!=this.ja&&(t=this.ja.Y()),null===t?new qt(!1,0,0,0,0):t},v(Oe,Ie),Oe.prototype.getPriority=r(0),Oe.prototype.he=function(t){this.vd.forEach(function(n,e){pa(this.Lb,n,t[e])},this)},ih=Me.prototype,ih.exec=function(){return this.kd.update(this.ib),this.Pc(),U()},ih.I=r(1),ih.da=i("aa"),ih.Rb=i("fb"),ih.W=function(){return l(this)},ih.getPriority=r(1),ih.Pc=function(){var t=la(this.Lb,this.aa);0!=t.length&&(t=new Oe(this.c,t),Vs(this.Ia,t))},ke.prototype.fe=function(t){t=new Me(this.c,t),Vs(this.Ia,t)},b("lf.backstore.FirebaseRawBackStore",Re),Re.prototype.fd=i("i"),Re.prototype.gd=function(){throw new tn(351)},Re.prototype.Ea=function(t){return De(this.i,"@rev/R").then(function(t){return this.Ra=t,De(this.i,"@table")}.bind(this)).then(function(n){var e,i=0;for(e in n)this.Ya.set(e,n[e]),n[e]>i&&(i=n[e]);return t.pa().forEach(function(t){this.Ya.has(t.getName())||(n[t.getName()]=++i)},this),e=this.i.child("@table"),Be(e,n)}.bind(this))},Re.prototype.wc=function(t){return Le(this,t,r(null)).then(function(){return this.Ya["delete"](t),Be(this.i.child("@table/"+t),null,!0)}.bind(this))},Re.prototype.dropTable=Re.prototype.wc,Re.prototype.tc=function(t,n,e){return Le(this,t,function(t){var i=t.P;return i[n]=e,{R:this.Ra+1,T:t.T,P:i}}.bind(this))},Re.prototype.addTableColumn=Re.prototype.tc,Re.prototype.xc=function(t,n){return Le(this,t,function(t){var e=t.P;return delete e[n],{R:this.Ra+1,T:t.T,P:e}}.bind(this))},Re.prototype.dropTableColumn=Re.prototype.xc,Re.prototype.Oc=function(t,n,e){return Le(this,t,function(t){var i=t.P;return i[e]=i[n],delete i[n],{R:this.Ra+1,T:t.T,P:i}}.bind(this))},Re.prototype.renameTableColumn=Re.prototype.Oc,Re.prototype.Ab=function(){throw new tn(351)},Re.prototype.createRow=Re.prototype.Ab,Re.prototype.Fc=i("Ta"),Re.prototype.getVersion=Re.prototype.Fc,Re.prototype.hc=function(t){var n=J();return t=this.Ya.get(t),this.i.orderByChild("T").equalTo(t).once("value",function(t){var e=[];t.forEach(function(t){e.push(t.val().P)}),n.resolve(e)}),n.ha},Re.prototype.dump=function(){var t={},n=wt(this.Ya).map(function(n){return this.hc(n).then(function(e){t[n]=e})}.bind(this));return G(n).then(function(){return t})},Re.prototype.dump=Re.prototype.dump,v(Pe,xt),Pe.prototype.H=function(t){return this.i.Dc(t)},Pe.prototype.vc=function(){if(0==this.Ad)return this.S.resolve(),this.S.ha;var t=this.Qa.ib;if(0==t.size)this.S.resolve();else{var n=this.i.Ra+1;this.i.Ra=n;var e={"@rev":{R:n}};t.forEach(function(t,i){var r=this.i.Ya.get(i);t.wa.forEach(function(t,i){e[i]={R:n,T:r,P:t.m}}),t.ma.forEach(function(t,i){e[i]={R:n,T:r,P:t[1].m}}),t.xa.forEach(function(t,n){e[n]=null})},this),this.i.i.update(e,function(e){null===e?this.S.resolve():(this.i.Ra=n-1,e=Et(t).map(function(t){return Ve(this.i,t.getName())},this),G(e).then(this.S.reject.bind(this.S),this.S.reject.bind(this.S)))}.bind(this))}return this.S.ha},Fe.prototype.getData=i("Ba"),Fe.prototype.get=function(t){return U(Ue(this,t))},Fe.prototype.put=function(t){return _e(this,t),U()},Fe.prototype.remove=function(t){return ze(this,t),U()},ih=Je.prototype,ih.Ea=function(t){this.i=this.Ff.child(this.g.name());var n=t||function(){return U()};return De(this.i,"@db/version").then(function(t){return null===t?Be(this.i,Xe(this),!0).then(function(){var t=new Re(0,this.i);return n(t)}.bind(this)).then(function(){return this.Ea()}.bind(this)):t==this.g.version()?De(this.i,"@rev/R").then(function(t){return this.Ra=t,De(this.i,"@table")}.bind(this)).then(function(t){for(var n in t)this.Ya.set(n,t[n]);return t=this.g.pa().map(function(t){return Ve(this,t.getName())},this),G(t)}.bind(this)).then(function(){return Ke(this),We(this),U()}.bind(this)):this.ie(t,n).then(function(){return this.Ea()}.bind(this))}.bind(this))},ih.ie=function(t,n){var e=new Re(t,this.i);return e.Ea(this.g).then(function(){return U()}.bind(this)).then(function(){return n(e)}).then(function(){var t=this.i.child("@db");return Be(t,{version:this.g.version()},!0)}.bind(this))},ih.Bg=function(t){var n=t.val(),e=this.Nc.get(n.T)||null;null===e&&(e=Lt(),this.Nc.set(n.T,e)),e.add(parseInt(t.key(),10))},ih.fe=function(t){var n=t.child("@rev/R").val();null!=n&&n!=this.Ra&&(this.Ra=n,t=He(this,t),t.forEach(function(t){var n=this.M.get(t.getName()),e=wt(t.xa);0<e.length&&ze(n,e);var i=Et(t.wa);t.ma.forEach(function(t){i.push(t[1])}),_e(n,i)},this),0<t.length&&this.Jc(t),We(this))},ih.Hb=function(t,n,e){return new Pe(this,t,e)},ih.Dc=function(t){var n=this.M.get(t)||null;if(null!==n)return n;throw new tn(101,t)},ih.close=n(),ih.subscribe=e("Ld"),ih.Jc=function(t){null!=this.Ld&&this.Ld(t)},b("lf.backstore.IndexedDBRawBackStore",Ye),Ye.prototype.fd=i("i"),Ye.prototype.getRawDBInstance=Ye.prototype.fd,Ye.prototype.gd=i("ja"),Ye.prototype.getRawTransaction=Ye.prototype.gd,Ye.prototype.wc=function(t){return new L(function(n,e){try{this.i.deleteObjectStore(t)}catch(i){return void e(i)}n()},this)},Ye.prototype.dropTable=Ye.prototype.wc,Ye.prototype.tc=function(t,n,e){var i=Ze(e);return Qe(this,t,function(t){t.m[n]=i})},Ye.prototype.addTableColumn=Ye.prototype.tc,Ye.prototype.xc=function(t,n){return Qe(this,t,function(t){delete t.m[n]})},Ye.prototype.dropTableColumn=Ye.prototype.xc,Ye.prototype.Oc=function(t,n,e){return Qe(this,t,function(t){t.m[e]=t.m[n],delete t.m[n]})},Ye.prototype.renameTableColumn=Ye.prototype.Oc,Ye.prototype.Ab=function(t){var n,e={};for(n in t)e[n]=Ze(t[n]);return Tt(e)},Ye.prototype.createRow=Ye.prototype.Ab,Ye.prototype.Fc=i("Ta"),Ye.prototype.getVersion=Ye.prototype.Fc,Ye.prototype.dump=function(){for(var t=this.i.objectStoreNames,n=[],e=0;e<t.length;++e){var i=t.item(e);n.push(this.hc(i))}return G(n).then(function(n){var e={};return n.forEach(function(n,i){e[t.item(i)]=n}),e})},Ye.prototype.dump=Ye.prototype.dump,Ye.prototype.hc=function(t){return ti(this,t).then(function(t){return t.map(function(t){return t.value})})},ni.prototype.get=function(t){return 0==t.length?null!=this.Z.getAll?ii(this):ei(this):(t=t.map(function(t){return new L(function(n,e){var i;try{i=this.Z.get(t)}catch(r){return void e(r)}i.onerror=e,i.onsuccess=function(t){n(this.Ib(t.target.result))}.bind(this)},this)},this),G(t))},ni.prototype.Wb=function(t){return new L(function(n,e){var i;try{i=t()}catch(r){return void e(r)}i.onsuccess=n,i.onerror=e},this)},ni.prototype.put=function(t){return 0==t.length?U():(t=t.map(function(t){return this.Wb(function(){return this.Z.put(t.Ja())}.bind(this))},this),G(t))},ni.prototype.remove=function(t){return new L(function(n,e){var i=this.Z.count();i.onsuccess=function(i){return 0==t.length||i.target.result==t.length?this.Wb(function(){return this.Z.clear()}.bind(this)).then(n,e):(i=t.map(function(t){return this.Wb(function(){return this.Z["delete"](t)}.bind(this))},this),void G(i).then(n,e))}.bind(this),i.onerror=e},this)},v(ri,xt),ri.prototype.H=function(t,n,e){return this.Xc?(e=null!=e?e:0,t=this.ja.objectStore(t),new Wt(t,n,0==e?g(Ht,this.c):Vt)):new ni(this.ja.objectStore(t),n)},ri.prototype.vc=function(){return this.S.ha},ih=oi.prototype,ih.Ea=function(t){var e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(null==e)throw new tn(352);var i=t||function(){return U()};return new L(function(t,r){var o;try{o=e.open(this.g.name(),this.g.version())}catch(u){return void r(u)}o.onerror=function(t){t=t.target.error,r(new tn(361,t.name,t.message))},o.onupgradeneeded=function(t){ui(this,i,t).then(n(),r)}.bind(this),o.onsuccess=function(n){this.i=n.target.result,this.re().then(function(n){zh=n+1,t(this.i)}.bind(this))}.bind(this)},this)},ih.Of=function(t,n){t.objectStoreNames.contains(n.getName())||t.createObjectStore(n.getName(),{keyPath:"id"}),n.Fb()&&(n.Da().forEach(function(n){ai(t,n.j())},this),ai(t,Hr(n)))},ih.Hb=function(t,n,e){return n=this.i.transaction(hi(n),0==t?"readonly":"readwrite"),new ri(this.c,n,t,this.Id,e)},ih.re=function(t){function n(){if(0==i.length)return U();var t=i.shift();return e(t).then(n)}function e(n){return new L(function(e,i){var s;try{s=(t||r.transaction([n])).objectStore(n).openCursor(null,"prev")}catch(a){return void i(a)}s.onsuccess=function(t){(t=t.target.result)&&(o=Math.max(o,u(t))),e(o)},s.onerror=function(){e(o)}})}var i=this.g.pa().map(function(t){return t.getName()}),r=this.i,o=0,u=function(t){return this.Id?(t=Jt(t.value),Object.keys(t.m).reduce(function(t,n){return Math.max(t,n);
},0)):t.key}.bind(this);return new L(function(t){n().then(function(){t(o)})})},ih.close=function(){this.i.close()},ih.Dc=function(){throw new tn(511)},ih.subscribe=n(),ih.Jc=n(),v(ci,xt),ci.prototype.H=function(t){return this.Z.Dc(t)},ci.prototype.vc=function(){return this.S.resolve(),this.S.ha},ih=fi.prototype,ih.Ea=function(){return this.g.pa().forEach(this.ig,this),U()},ih.Dc=function(t){var n=this.M.get(t)||null;if(null===n)throw new tn(101,t);return n},ih.Hb=function(t,n,e){return new ci(this,t,e)},ih.ig=function(t){li(this,t.getName()),t.Fb()&&(t.Da().forEach(function(t){li(this,t.j())},this),li(this,Hr(t)))},ih.close=n(),ih.subscribe=n(),ih.Jc=n(),v(pi,fi),pi.prototype.subscribe=function(t){null===this.sd&&(this.sd=t)},pi.prototype.Jc=function(t){null===this.sd||this.sd(t)},di.prototype.get=function(t){var n=this.Ib;return bi(this.ja,"SELECT id, value FROM "+this.A+" "+(0==t.length?"":"WHERE id IN ("+t.join(",")+")"),[],function(t){for(var e=t.rows.length,i=Array(e),r=0;e>r;++r)i[r]=n({id:t.rows.item(r).id,value:JSON.parse(t.rows.item(r).value)});return i})},di.prototype.put=function(t){if(0==t.length)return U();var n="INSERT OR REPLACE INTO "+this.A+"(id, value) VALUES (?, ?)";return t.forEach(function(t){bi(this.ja,n,[t.id(),JSON.stringify(t.m)])},this),U()},di.prototype.remove=function(t){return bi(this.ja,"DELETE FROM "+this.A+" "+(0==t.length?"":"WHERE id IN ("+t.join(",")+")"),[]),U()},v(yi,xt),yi.prototype.H=function(t,n){var e=this.M.get(t)||null;return null===e&&(e=new di(this,gi(t),n),this.M.set(t,e)),e},yi.prototype.vc=function(){var t=null,n=this.S.reject.bind(this.S),e=function(t,n){this.S.reject(n)}.bind(this),i=[],r=function(n,o){if(null!==t){var u=o;null!=t.transform&&null!=o&&(u=t.transform(o)),i.push(u),t.S.resolve(u)}0<this.Pd.length?(t=u=this.Pd.shift(),n.executeSql(u.Pg,u.Fg,r,e)):this.S.resolve(i)}.bind(this);return 0==this.Ad?this.i.readTransaction(r,n):this.i.transaction(r,n),this.S.ha},b("lf.backstore.WebSqlRawBackStore",vi),vi.prototype.fd=i("i"),vi.prototype.getRawDBInstance=vi.prototype.fd,vi.prototype.gd=function(){throw new tn(356)},vi.prototype.getRawTransaction=vi.prototype.gd,vi.prototype.wc=function(t){var n=mi(this);return bi(n,"DROP TABLE "+t,[]),n.ka()},vi.prototype.dropTable=vi.prototype.wc,vi.prototype.hc=function(t){var n=mi(this);return bi(n,"SELECT id, value FROM "+t,[]),n.ka().then(function(t){for(var n=t[0].rows.length,e=Array(n),i=0;n>i;++i)e[i]={id:t[0].rows.item(i).id,value:JSON.parse(t[0].rows.item(i).value)};return U(e)})},vi.prototype.tc=function(t,n,e){var i=Ze(e);return wi(this,t,function(t){return t.value[n]=i,t})},vi.prototype.addTableColumn=vi.prototype.tc,vi.prototype.xc=function(t,n){return wi(this,t,function(t){return delete t.value[n],t})},vi.prototype.dropTableColumn=vi.prototype.xc,vi.prototype.Oc=function(t,n,e){return wi(this,t,function(t){return t.value[e]=t.value[n],delete t.value[n],t})},vi.prototype.renameTableColumn=vi.prototype.Oc,vi.prototype.Ab=function(t){var n,e={};for(n in t)e[n]=Ze(t[n]);return Tt(e)},vi.prototype.createRow=vi.prototype.Ab,vi.prototype.Fc=i("Ta"),vi.prototype.getVersion=vi.prototype.Fc,vi.prototype.dump=function(){var t=J(),n=mi(this);Ei(n);var e={};return n.ka().then(function(n){n=n[0].filter(function(t){return"__lf_ver"!=t&&"__WebKitDatabaseInfoTable__"!=t}).map(function(t){return this.hc(t).then(function(n){e[t]=n})},this),G(n).then(function(){t.resolve(e)})}.bind(this)),t.ha},vi.prototype.dump=vi.prototype.dump,ih=Si.prototype,ih.Ea=function(t){if(null==window.openDatabase)throw new tn(353);var n=t||function(){return U()};return new L(function(t,e){var i=window.openDatabase(this.g.name(),"",this.g.name(),this.Og);if(null==i)throw new tn(354);this.i=i,Ni(this,n).then(function(){this.re().then(t,e)}.bind(this),function(t){if(t instanceof tn)throw t;throw new tn(354,t.message)})},this)},ih.Hb=function(t,n,e){if(null!=this.i)return new yi(this.i,t,e);throw new tn(2)},ih.close=n(),ih.Dc=function(){throw new tn(512)},ih.subscribe=function(){throw new tn(355)},ih.Jc=function(){throw new tn(355)},ih.ie=function(t,n){return Ti(this).then(function(){return t(new vi(this.c,n,this.i))}.bind(this))},ih.re=function(){var t=0,n=J(),e=function(n){var e=new yi(this.i,0);return bi(e,"SELECT MAX(id) FROM "+('"'+n+'"'),[]),e.ka().then(function(n){n=n[0].rows.item(0)["MAX(id)"],t=Math.max(n,t)})}.bind(this),i=this.g.pa().map(function(t){return e(t.getName())});return G(i).then(function(){zh=t+1,n.resolve()},function(t){n.reject(t)}),n.ha},ih=Ai.prototype,ih.set=function(t,n){this.l.set(n.id(),n),this.cc.get(t).add(n.id())},ih.Zb=function(t,n){var e=this.cc.get(t);n.forEach(function(t){this.l.set(t.id(),t),e.add(t.id())},this)},ih.get=function(t){return this.l.get(t)||null},ih.Ua=function(t,n,e){var i=[],r=Math.min(n,e),o=Math.max(n,e);if(t=this.cc.get(t),t.size<o-r)t.forEach(function(t){t>=r&&o>=t&&(t=this.l.get(t),i.push(t))},this);else for(n=r;o>=n;++n)t.has(n)&&(e=this.l.get(n),i.push(e));return i},ih.remove=function(t,n){this.l["delete"](n),this.cc.get(t)["delete"](n)},ih.Cc=function(t){return null!=t?this.cc.get(t).size:this.l.size},ih.clear=function(){this.l.clear(),this.cc.clear()},Oi.prototype.add=function(t,n){this.ia+=n,this.Ic=null===this.Ic?t:t>this.Ic?t:this.Ic},Oi.prototype.remove=function(t,n){this.ia-=n},Oi.prototype.clear=function(){this.ia=0};var hc=[];ih=ki.prototype,ih.getName=i("A"),ih.toString=function(){return this.ua.toString()},ih.add=function(t,n){this.ua=this.ua.Db(t,n)},ih.set=function(t,n){this.ua=this.ua.Db(t,n,!0)},ih.remove=function(t,n){this.ua=this.ua.remove(t,n)},ih.get=function(t){return this.ua.get(t)},ih.ad=function(t){if(null==t)return this.Y().ia;if(t instanceof xn){if(On(t))return this.Y().ia;if(Mn(t))return this.get(t.from).length}return this.Ua([t]).length},ih.Y=i("za"),ih.Wd=function(t,n,e,i){return e=Array(t),this.ua.fill({offset:n?this.za.ia-t-i:i,count:t,ue:0},e),n?e.reverse():e},ih.Ua=function(t,n,e,i){var r=Ui(this.ua).a[0];if(!o(r)||0==e)return hc;n=n||!1,e=null!=e?Math.min(e,this.za.ia):this.za.ia,i=i||0;var u=Math.min(Math.max(this.za.ia-i,0),e);if(0==u)return hc;if(!o(t)||1==t.length&&t[0]instanceof xn&&On(t[0]))return this.Wd(u,n,e,i);t=this.$.wf(t);var s=Array(n?this.za.ia:u),a={count:0,X:s.length,reverse:n,L:i},h=1<this.lb().ae();return t.forEach(function(t){for(var n=this.$.wd(t),n=this.$.Zd(t)?r:n[0],n=this.ua.bg(n),e=0;null!=n&&a.count<a.X;){if(h){for(var i=n,o=t,u=a,c=s,f=i.u.lb(),l=-1,p=0;p<i.a.length;++p)if(f.Eb(i.a[p],o)){l=p;break}if(-1!=l)for(p=l;p<i.a.length&&u.count<u.X;++p)f.Eb(i.a[p],o)&&Zi(i,u,c,p)}else n.Ua(t,a,s);0!=a.L||n.nd(t)?e=0:e++,n=2==e?null:n.next()}},this),s.length>a.count&&s.splice(a.count,s.length-a.count),n?Ci(s,n,e,i):s},ih.clear=function(){this.ua=Li(this),this.za.clear()},ih.Oa=function(t){return this.ua.Oa(t)},ih.min=function(){return this.Kb(this.$.min.bind(this.$))},ih.max=function(){return this.Kb(this.$.max.bind(this.$))},ih.Kb=function(t){var n;t:{n=Ui(this.ua);var e=0;do if(e>=n.a.length)n=n.ya,e=0;else{var i=Ri(this,n,e);if(null!==i){n=i;break t}e++}while(null!==n);n=null}t:{e=_i(this.ua),i=e.a.length-1;do if(0>i)e=e.tb,i=0;else{var r=Ri(this,e,i);if(null!==r){e=r;break t}i--}while(null!==e);e=null}return null===n||null===e?null:1==t(n[0],e[0])?n:e},ih.La=i("Af"),ih.lb=i("$"),ih.Pa=function(t,n){return null!=t?0==this.$.compare(t,n):!1},ih.Ja=function(){for(var t=[],n=Ui(this.ua);n;)t.push(new St(n.sa,[n.a,n.B])),n=n.ya;return t},ih=Bi.prototype,ih.next=i("ya"),ih.toString=function(){var t="",n=Fi(this),t=t+(n[0]+"\n"+n[1]+"\n");return this.h.length&&(t+=this.h[0].toString()),t},ih.get=function(t){var n=$i(this,t);if(Pi(this)){var e=hc;return this.u.Pa(this.a[n],t)&&(e=e.concat(this.B[n])),e}return n=this.u.Pa(this.a[n],t)?n+1:n,this.h[n].get(t)},ih.Oa=function(t){var n=$i(this,t);return this.u.Pa(this.a[n],t)?!0:Pi(this)?!1:this.h[n].Oa(t)},ih.remove=function(t,n){if(Vi(this,t,-1,n),null===this.F){var e=this;return 1==this.h.length&&(e=this.h[0],e.F=null),e}return this},ih.Db=function(t,n,e){var i=$i(this,t);if(Pi(this)){if(this.u.Pa(this.a[i],t)){if(e)this.u.Y().remove(t,this.u.La()?1:this.B[i].length),this.B[i]=this.u.La()?n:[n];else{if(this.u.La())throw new tn(201);if(!Ii(this.B[i],n))throw new tn(109)}return this.u.Y().add(t,1),this}return this.a.splice(i,0,t),this.B.splice(i,0,this.u.La()?n:[n]),this.u.Y().add(t,1),512==this.a.length?(i=Li(this.u),t=Li(this.u),t.ob=1,t.a=[this.a[256]],t.h=[this,i],t.F=this.F,this.F=t,i.a=this.a.splice(256),i.B=this.B.splice(256),i.F=t,zi(i,this.ya),zi(this,i),i=t):i=this,i}return i=this.u.Pa(this.a[i],t)?i+1:i,t=this.h[i].Db(t,n,e),Pi(t)||1!=t.a.length||(this.a.splice(i,0,t.a[0]),t.h[1].F=this,t.h[0].F=this,this.h.splice(i,1,t.h[1]),this.h.splice(i,0,t.h[0])),512==this.a.length?Yi(this):this},ih.Pe=function(t){if(!Pi(this)){var n=$i(this,t);return this.u.Pa(this.a[n],t)&&n++,this.h[n].Pe(t)}return this},ih.Oe=function(t){if(!Pi(this)){var n=$i(this,t);return this.u.Pa(this.a[n],t)&&(t.some(function(t){return t==ic})||n++),this.h[n].Oe(t)}return this},ih.Ua=function(t,n,e){function i(t){return t[0]?t[1]?0:1:-1}var r=this.u.lb(),o=0,u=this.a.length-1,s=this.a,a=i(r.zb(s[o],t)),h=i(r.zb(s[u],t));if(1!=a&&(-1!=a||-1!=h)){var c=function(t,n){var e=t+n>>1;return e==t?e+1:e},f=function(n,e,o){if(n>=e)return 0==o?e:-1;var u=i(r.zb(s[n],t));if(0==u)return n;if(1==u)return-1;if(u=c(n,e),u==e)return 0==o?e:-1;var a=i(r.zb(s[u],t));return 0==a?f(n,u,a):-1==a?f(u+1,e,o):f(n+1,u,a)},l=function(n,e){if(n>=e)return n;var o=i(r.zb(s[e],t));if(0==o)return e;if(-1==o)return n;if(o=c(n,e),o==e)return n;var u=i(r.zb(s[o],t));return 0==u?l(o,e):1==u?l(n,o-1):-1};0!=a&&(o=f(o+1,u,h)),-1!=o&&(u=l(o,u),-1!=u&&u>=o&&Qi(this,n,e,o,u+1))}},ih.fill=function(t,n){if(Pi(this))for(var e=0;e<this.B.length&&0<t.count;++e)if(0<t.offset){if(t.offset-=this.u.La()?1:this.B[e].length,0>t.offset)for(var i=this.B[e].length+t.offset;i<this.B[e].length&&0<t.count;++i)n[t.ue++]=this.B[e][i],t.count--}else if(this.u.La())n[t.ue++]=this.B[e],t.count--;else for(i=0;i<this.B[e].length&&0<t.count;++i)n[t.ue++]=this.B[e][i],t.count--;else for(e=0;e<this.h.length&&0<t.count;++e)this.h[e].fill(t,n)},ih.nd=function(t){return this.u.lb().nd(this.a[0],t)},ih=nr.prototype,ih.zb=function(t,n){var e=this.de(n),i=[e.from==ic,e.o==ic];if(!i[0]){var r=this.$c(t,e.from);i[0]=e.ea?1==r:-1!=r}return i[1]||(r=this.$c(t,e.o),i[1]=e.oa?-1==r:1!=r),i},ih.compare=function(t,n){return this.$c(t,n)},ih.min=function(t,n){return n>t?1:t==n?0:-1},ih.max=function(t,n){return t>n?1:t==n?0:-1},ih.Eb=function(t,n){var e=this.zb(t,n);return e[0]&&e[1]},ih.nd=function(t,n){return this.Eb(t,n)},ih.wf=function(t){return t.filter(function(t){return null!==t}).sort(function(t,n){return this.je(t,n)}.bind(this))},ih.Zd=function(t){return this.de(t).from==ic},ih.wd=function(t){return t=this.de(t),[t.from,t.o]},ih.Qd=function(t){return null!==t},ih.ae=r(1),ih.toString=function(){return this.compare==ir?"SimpleComparator_DESC":"SimpleComparator_ASC"},v(ur,nr),ur.prototype.Eb=function(t,n){return null===t?On(n):ur.hb.Eb.call(this,t,n)},ur.prototype.Kb=function(t,n){return null===t?null===n?0:-1:null===n?1:null},ur.prototype.min=function(t,n){var e=this.Kb(t,n);return null===e&&(e=ur.hb.min.call(this,t,n)),e},ur.prototype.max=function(t,n){var e=this.Kb(t,n);return null===e&&(e=ur.hb.max.call(this,t,n)),e},ih=hr.prototype,ih.compare=function(t,n){return cr(this,t,n,function(t,n,e){return n==ic||e==ic?0:t.compare(n,e)})},ih.min=function(t,n){return cr(this,t,n,function(t,n,e){return t.min(n,e)})},ih.max=function(t,n){return cr(this,t,n,function(t,n,e){return t.max(n,e)})},ih.zb=function(t,n){for(var e=[!0,!0],i=0;i<this.qa.length&&(e[0]||e[1]);++i){var r=this.qa[i].zb(t[i],n[i]);e[0]=e[0]&&r[0],e[1]=e[1]&&r[1]}return e},ih.Eb=function(t,n){for(var e=!0,i=0;i<this.qa.length&&e;++i)e=this.qa[i].Eb(t[i],n[i]);return e},ih.nd=function(t,n){return this.qa[0].Eb(t[0],n[0])},ih.wf=function(t){var n=t.filter(function(t){return t.every(a)});t=Array(this.qa.length);for(var e=0;e<t.length;e++)t[e]=n.map(function(t){return t[e]});for(t.forEach(function(t,n){t.sort(function(t,e){return this.qa[n].je(t,e)}.bind(this))},this),n=Array(n.length),e=0;e<n.length;e++)n[e]=t.map(function(t){return t[e]});return n.sort(function(t,n){for(var e=0,i=0;i<this.qa.length&&0==e;++i)e=this.qa[i].je(t[i],n[i]);return e}.bind(this))},ih.Zd=function(t){return this.qa[0].Zd(t[0])},ih.wd=function(t){var n=t.map(function(t,n){return this.qa[n].wd(t)[0]},this);return t=t.map(function(t,n){return this.qa[n].wd(t)[1]},this),[n,t]},ih.Qd=function(t){return t.every(function(t,n){return this.qa[n].Qd(t)},this)},ih.ae=function(){return this.qa.length},v(fr,hr),ih=pr.prototype,ih.getName=function(){return this.fa.getName()},ih.add=function(t,n){null===t?(this.qb.add(n),this.Rc.add(t,1)):this.fa.add(t,n)},ih.set=function(t,n){null===t?(this.qb.clear(),this.Rc.clear(),this.add(t,n)):this.fa.set(t,n)},ih.remove=function(t,n){null===t?n?(this.qb["delete"](n),this.Rc.remove(t,1)):(this.qb.clear(),this.Rc.clear()):this.fa.remove(t,n)},ih.get=function(t){return null===t?Pt(this.qb):this.fa.get(t)},ih.ad=function(t){return this.fa.ad(t)},ih.Y=function(){return Mi(this.za,[this.fa.Y(),this.Rc]),this.za},ih.Ua=function(t,n,e,i){return n=this.fa.Ua(t,n,e,i),null!=t?n:n.concat(Pt(this.qb))},ih.clear=function(){this.qb.clear(),this.fa.clear()},ih.Oa=function(t){return null===t?0!=this.qb.size:this.fa.Oa(t)},ih.min=function(){return this.fa.min()},ih.max=function(){return this.fa.max()},ih.Ja=function(){return[new St(-2,Pt(this.qb))].concat(this.fa.Ja())},ih.lb=function(){return this.fa.lb()},ih.La=function(){return this.fa.La()},ih=yr.prototype,ih.getName=i("A"),ih.add=function(t){if("number"!=typeof t)throw new tn(103);this.vb.add(t)},ih.set=function(t,n){this.add(t,n)},ih.remove=function(t){this.vb["delete"](t)},ih.get=function(t){return this.Oa(t)?[t]:[]},ih.min=function(){return this.Kb(this.$.min.bind(this.$))},ih.max=function(){return this.Kb(this.$.max.bind(this.$))},ih.Kb=function(t){if(0==this.vb.size)return null;var n=Pt(this.vb).reduce(function(n,e){return null===n||1==t(e,n)?e:n},null);return[n,[n]]},ih.ad=function(){return this.vb.size},ih.Ua=function(t,n,e,i){var r=t||[Cn()];return t=Pt(this.vb).filter(function(t){return r.some(function(n){return this.$.Eb(t,n)},this)},this),Ci(t,n,e,i)},ih.clear=function(){this.vb.clear()},ih.Oa=function(t){return this.vb.has(t)},ih.Ja=function(){return[new St(0,Pt(this.vb))]},ih.lb=i("$"),ih.La=r(!0),ih.Y=function(){var t=new Oi;return t.ia=this.vb.size,t},br.prototype.Ea=function(t){var n=t.pa(),e=function(){if(0==n.length)return U();var t=n.shift();return(t.Fb()?wr(this,t):vr(this,t)).then(e)}.bind(this);return e()},Nr.prototype.Ea=function(t){return t.pa().forEach(function(t){var n=[];this.oc.set(t.getName(),n);var e=Hr(t);if(null===this.get(e)){var i=new yr(e);n.push(i),this.Z.set(e,i)}t.Da().forEach(function(t){var e;e=lr(t),e=new ki(t.j(),e,t.Gc),e=Jr(t)&&1==t.f.length?new pr(e):e,n.push(e),this.Z.set(t.j(),e)},this)},this),U()},Nr.prototype.get=function(t){return this.Z.get(t)||null},Nr.prototype.set=function(t,n){var e=this.oc.get(t)||null;null===e&&(e=[],this.oc.set(t,e));for(var i=null,r=0;r<e.length;r++)if(e[r].getName()==n.getName()){i=r;break}null!==i&&0<e.length?e.splice(i,1,n):e.push(n),this.Z.set(n.getName(),n)},v(kr,ye),ih=kr.prototype,ih.Pb=function(){return Tr(this,function(t){if(t instanceof kr){var n=new kr(t.rb);return n.Va=t.Va,t=t.W(),n.sa=t,n}return t.Pb()})},ih.nb=function(t){var n=t||[];return de(this,function(t){t!=this&&t.nb(n)}.bind(this)),t=Lt(n),Pt(t)},ih.s=function(t){var n=null!=t?t:Lt();return de(this,function(t){t!=this&&t.s(n)}.bind(this)),n},ih.xd=function(t){this.Va!=t&&(this.Va=t,this.rb="and"==this.rb?"or":"and",ae(this).forEach(function(n){return n.xd(t)}))},ih.eval=function(t){var n=ae(this).map(function(n){return n.eval(t)});return Rr(this,n)},ih.toString=function(){return"combined_pred_"+this.rb.toString()},ih.xe=function(){if("or"==this.rb){var t=new Bn;return ae(this).forEach(function(n){n=n.xe().ra(),t.add(n)}),t}return new Bn},ih.od=function(){return"or"==this.rb?Dr(this):!1},v(Br,ye),ih=Br.prototype,ih.Pb=function(){var t=new Br(this.ga,this.na,this.C),n=this.W();return t.sa=n,t},ih.nb=function(t){return null!=t?(t.push(this.ga),t.push(this.na),t):[this.ga,this.na]},ih.s=function(t){return t=null!=t?t:Lt(),t.add(this.ga.H()),t.add(this.na.H()),t},ih.reverse=function(){var t=this.C;switch(this.C){case"gt":t="lt";break;case"lt":t="gt";break;case"gte":t="lte";break;case"lte":t="gte"}return new Br(this.na,this.ga,t)},ih.eval=function(t){var n=t.entries.filter(function(t){var n=Hn(t,this.ga);return t=Hn(t,this.na),this.yc(n,t)},this);return new Pn(n,t.s())},ih.toString=function(){return"join_pred("+this.ga.j()+" "+this.C+" "+this.na.j()+")"};var cc={};b("lf.schema.DataStoreType",cc),cc.INDEXED_DB=0,cc.MEMORY=1,cc.LOCAL_STORAGE=2,cc.FIREBASE=3,cc.WEB_SQL=4,cc.OBSERVABLE_STORE=5,Gr.prototype.j=function(){return this.pc+"."+this.name},b("lf.schema.Table",Wr),Wr.prototype.getName=i("A"),Wr.prototype.getName=Wr.prototype.getName,Wr.prototype.$a=i("jb"),Wr.prototype.uc=function(t){var n=new this.constructor(this.A);return n.jb=t,n.Kg=this.Kg,n},Wr.prototype.as=Wr.prototype.uc,Wr.prototype.createRow=Wr.prototype.Ab,Wr.prototype.deserializeRow=Wr.prototype.mb,Wr.prototype.Da=i("ta"),Wr.prototype.getIndices=Wr.prototype.Da,Wr.prototype.nb=i("K"),Wr.prototype.getColumns=Wr.prototype.nb,Wr.prototype.getConstraint=Wr.prototype.Jb,Wr.prototype.Fb=i("ud"),Wr.prototype.persistentIndex=Wr.prototype.Fb,ih=Vr.prototype,ih.getName=function(){return this.Ob+"("+this.child.getName()+")"},ih.j=function(){return this.Ob+"("+this.child.j()+")"},ih.H=function(){return this.child.H()},ih.toString=function(){return this.j()},ih.I=function(){return this.child.I()},ih.$a=i("jb"),ih.Da=function(){return[]},ih.Ca=r(null),ih.kc=r(!1),ih.uc=function(t){return this.jb=t,this},Vr.prototype.as=Vr.prototype.uc,ih=Yr.prototype,ih.getName=r("*"),ih.j=function(){return this.getName()},ih.toString=function(){return this.j()},ih.H=i("U"),ih.I=r(4),ih.$a=i("jb"),ih.Da=function(){return[]},ih.Ca=r(null),ih.kc=r(!1),b("lf.fn.avg",function(t){return new Vr(t,"AVG")}),b("lf.fn.count",$r),b("lf.fn.distinct",Zr),b("lf.fn.max",function(t){return new Vr(t,"MAX")}),b("lf.fn.min",function(t){return new Vr(t,"MIN")}),b("lf.fn.stddev",function(t){return new Vr(t,"STDDEV")}),b("lf.fn.sum",function(t){return new Vr(t,"SUM")}),b("lf.fn.geomean",function(t){return new Vr(t,"GEOMEAN")}),v(Qr,ue),Qr.prototype.exec=function(t,n){switch(this.Xf){case 1:return no(this,t,n);case 0:return eo(this,t,n);default:return to(this,t,n)}},Qr.prototype.toString=r("dummy_node"),Qr.prototype.Sc=function(){return this.toString()},v(io,Qr),io.prototype.toString=function(){return"aggregation("+this.De.map(function(t){return t.j()}).toString()+")"},io.prototype.ca=function(t){return t.forEach(function(t){oo(new ro(t,this.De))},this),t},po.prototype.ab=i("Ha"),po.prototype.da=i("aa"),v(yo,ue),v(go,yo),v(bo,go),v(vo,yo),vo.prototype.toString=function(){return"delete("+this.table.getName()+")"},v(mo,yo),mo.prototype.toString=function(){return"update("+this.table.getName()+")"},v(wo,yo),wo.prototype.toString=function(){return"select("+this.O.toString()+")"},v(Eo,yo),Eo.prototype.toString=function(){var t="table_access("+this.table.getName();return null===this.table.$a()||(t+=" as "+this.table.$a()),t+")"},v(So,yo),So.prototype.toString=r("cross_product"),v(No,yo),No.prototype.toString=function(){var t="project("+this.f.toString();if(null!==this.Sb)var n=this.Sb.map(function(t){return t.j()}).join(", "),t=t+(", groupBy("+n+")");return t+")"},v(To,yo),To.prototype.toString=function(){return"order_by("+qe(this.N)+")"},v(Ao,yo),Ao.prototype.toString=function(){return"aggregation("+this.f.toString()+")"},v(qo,yo),qo.prototype.toString=function(){return"group_by("+this.f.toString()+")"},v(xo,yo),xo.prototype.toString=function(){return"limit("+this.X+")"},v(jo,yo),jo.prototype.toString=function(){return"skip("+this.L+")"},v(Io,yo),Io.prototype.toString=function(){return"join(type: "+(this.Ub?"outer":"inner")+", "+this.O.toString()+")"},v(Oo,Co),Oo.prototype.gb=function(t){return this.G=t,this.xb(this.G),this.G},Oo.prototype.xb=function(t){if(t instanceof wo){var n=Mo(this,t.O),n=ko(this,n);Cr(t,t,n[0],n[1]),t==this.G&&(this.G=n[0]),t=n[0]}ae(t).forEach(function(t){this.xb(t)},this)},v(Ro,Co),Ro.prototype.gb=function(t,n){return 3>n.from.length?t:(this.G=t,this.xb(this.G),this.G)},Ro.prototype.xb=function(t){if(t instanceof So)for(;2<ae(t).length;){for(var n=new So,e=0;2>e;e++){var i=le(t,0);fe(n,i)}ce(t,n,0)}ae(t).forEach(function(t){this.xb(t)},this)},v(Do,Qr),Do.prototype.toString=r("cross_product"),Do.prototype.ca=function(t){var n=t[0],e=t[1];t=[];for(var i=n.s(),r=e.s(),o=0;o<n.entries.length;o++)for(var u=0;u<e.entries.length;u++){var s=Xn(n.entries[o],i,e.entries[u],r);t.push(s)}return n=n.s().concat(e.s()),[new Pn(t,n)]},v(Bo,Ie),Bo.prototype.getPriority=r(2),Bo.prototype.he=function(t){0==this.I()?Lo(this,t):this.Pc()},Bo.prototype.Pc=function(){var t=la(this.Lb,this.da());0!=t.length&&(t=new Oe(this.global,t),Vs(this.Ia,t))},v(Po,we),Po.prototype.da=function(){var t=Lt();return t.add(this.from),Fo(this,this.from.getName(),t),t},Po.prototype.clone=function(){var t=new Po(this.ba);return Ne(t,this),t.from=this.from,t},Po.prototype.bind=function(t){return Po.hb.bind.call(this,t),Te(this,t),this},v(Uo,we),Uo.prototype.da=function(){var t=Lt();t.add(this.Ka);var n=this.ba.info();return Ma(this.Ka.getName(),n.gf).forEach(t.add.bind(t)),this.dc&&Ra(n,this.Ka.getName()).forEach(t.add.bind(t)),t},Uo.prototype.clone=function(){var t=new Uo(this.ba);return Ne(t,this),t.Ka=this.Ka,this.values&&(t.values=this.values instanceof Yn?this.values:this.values.slice()),t.dc=this.dc,t.ec=this.ec,t},Uo.prototype.bind=function(t){return Uo.hb.bind.call(this,t),this.ec&&(this.values=this.ec instanceof Yn?t[this.ec.Ca()]:this.ec.map(function(n){return n instanceof Yn?t[n.Ca()]:n})),this},v(_o,we),_o.prototype.da=function(){var t=Lt();t.add(this.table);var n=this.set.map(function(t){return t.J.j()}),e=this.ba.info();return ka(e,n).forEach(t.add.bind(t)),Da(e,n).forEach(t.add.bind(t)),t},_o.prototype.clone=function(){var t=new _o(this.ba);return Ne(t,this),t.table=this.table,t.set=this.set?zo(this.set):this.set,t},_o.prototype.bind=function(t){return _o.hb.bind.call(this,t),this.set.forEach(function(n){-1!=n.Wc&&(n.value=t[n.Wc])}),Te(this,t),this},b("lf.query.BaseBuilder",eu),eu.prototype.exec=function(){try{this.kb()}catch(t){return _(t)}return new L(function(t,n){var e=new Bo(this.global,[this.Ec()]);Vs(this.Ia,e).then(function(n){t(Fn(n[0]))},n)},this)},eu.prototype.exec=eu.prototype.exec,eu.prototype.Zf=function(){var t=function(t){return t.Sc(this.query)+"\n"}.bind(this);return Mr(iu(this).ab(),t)},eu.prototype.explain=eu.prototype.Zf,eu.prototype.bind=function(t){return this.query.bind(t),this},eu.prototype.bind=eu.prototype.bind,eu.prototype.Rg=function(t){return nu(this,t)},eu.prototype.toSql=eu.prototype.Rg,eu.prototype.kb=n(),eu.prototype.Ec=function(){return{context:this.query.clone(),ke:iu(this)}},v(ru,eu),b("lf.query.DeleteBuilder",ru),ru.prototype.from=function(t){if(null!=this.query.from)throw new tn(515);return this.query.from=t,this},ru.prototype.from=ru.prototype.from,ru.prototype.w=function(t){return this.Hd(),this.query.w=t,this},ru.prototype.where=ru.prototype.w,ru.prototype.Hd=function(){if(null==this.query.from)throw new tn(548);if(null!=this.query.w)throw new tn(516)},ru.prototype.kb=function(){if(ru.hb.kb.call(this),null==this.query.from)throw new tn(517)},v(ou,eu),b("lf.query.InsertBuilder",ou),ou.prototype.kb=function(){ou.hb.kb.call(this);var t=this.query;if(null==t.Ka||null==t.values)throw new tn(518);if(t.dc&&null===t.Ka.Jb().ed())throw new tn(519)},ou.prototype.Ka=function(t){if(null!=this.query.Ka)throw new tn(520);return this.query.Ka=t,this},ou.prototype.into=ou.prototype.Ka,ou.prototype.values=function(t){if(null!=this.query.values)throw new tn(521);return t instanceof Yn||t.some(function(t){return t instanceof Yn})?this.query.ec=t:this.query.values=t,this},ou.prototype.values=ou.prototype.values,b("lf.op.and",uu),b("lf.op.or",function(t){return su("or",Array.prototype.slice.call(arguments))}),b("lf.op.not",function(t){return t.xd(!0),t}),v(au,eu),b("lf.query.SelectBuilder",au),au.prototype.kb=function(){au.hb.kb.call(this);var t=this.query;if(null==t.from)throw new tn(522);if(o(t.Vb)&&!o(t.X)||o(t.bc)&&!o(t.L))throw new tn(523);null!=this.query.la?cu(this):fu(this)},au.prototype.from=function(t){if(this.Ne)throw new tn(515);return this.Ne=!0,null==this.query.from&&(this.query.from=[]),this.query.from.push.apply(this.query.from,Array.prototype.slice.call(arguments)),this},au.prototype.from=au.prototype.from,au.prototype.w=function(t){if(pu(this,548),this.Cd)throw new tn(516);return this.Cd=!0,du(this,t),this},au.prototype.where=au.prototype.w,au.prototype.jg=function(t,n){if(pu(this,542),this.Cd)throw new tn(547);return this.query.from.push(t),du(this,n),this},au.prototype.innerJoin=au.prototype.jg,au.prototype.qg=function(t,n){if(pu(this,542),!(n instanceof Br))throw new tn(541);if(this.Cd)throw new tn(547);this.query.from.push(t),null==this.query.cb&&(this.query.cb=Lt());var e=n;return Kr(t)!=Kr(n.na.H())&&(e=n.reverse()),this.query.cb.add(e.W()),du(this,e),this},au.prototype.leftOuterJoin=au.prototype.qg,au.prototype.X=function(t){if(null!=(this.query.X||this.query.Vb))throw new tn(528);if(t instanceof Yn)this.query.Vb=t;else{if(0>t)throw new tn(531);this.query.X=t}return this},au.prototype.limit=au.prototype.X,au.prototype.L=function(t){if(null!=(this.query.L||this.query.bc))throw new tn(529);if(t instanceof Yn)this.query.bc=t;else{if(0>t)throw new tn(531);this.query.L=t}return this},au.prototype.skip=au.prototype.L,au.prototype.N=function(t,n){return pu(this,549),null==this.query.N&&(this.query.N=[]),this.query.N.push({J:t,sb:null!=n?n:1}),this},au.prototype.orderBy=au.prototype.N,au.prototype.la=function(t){if(pu(this,549),null!=this.query.la)throw new tn(530);return null==this.query.la&&(this.query.la=[]),this.query.la.push.apply(this.query.la,Array.prototype.slice.call(arguments)),this},au.prototype.groupBy=au.prototype.la,au.prototype.clone=function(){var t=new au(this.global,this.query.f);return t.query=this.query.clone(),t.query.Zc=null,t},au.prototype.clone=au.prototype.clone,v(gu,eu),b("lf.query.UpdateBuilder",gu),gu.prototype.set=function(t,n){var e={Wc:n instanceof Yn?n.Ca():-1,J:t,value:n};return null!=this.query.set?this.query.set.push(e):this.query.set=[e],this},gu.prototype.set=gu.prototype.set,gu.prototype.w=function(t){return this.Hd(),this.query.w=t,this},gu.prototype.where=gu.prototype.w,gu.prototype.Hd=function(){if(null!=this.query.w)throw new tn(516)},gu.prototype.kb=function(){if(gu.hb.kb.call(this),null==this.query.set)throw new tn(532);if(this.query.set.some(function(t){return t.value instanceof Yn}))throw new tn(501)},bu.prototype.jc=function(){return null===this.Ha&&(this.Ha=this.cd()),this.Ha},v(vu,bu),vu.prototype.cd=function(){return this.query.dc?new bo(this.query.Ka,this.query.values):new go(this.query.Ka,this.query.values)},v(mu,bu),mu.prototype.cd=function(){var t=new mo(this.query.table),n=null!=this.query.w?new wo(this.query.w.Pb()):null,e=new Eo(this.query.table);return null===n?fe(t,e):(fe(n,e),fe(t,n)),t},wu.prototype.jc=function(){return this.Yb.forEach(function(t){this.Ha=t.gb(this.Ha,this.le)},this),this.Ha},v(Eu,bu),Eu.prototype.cd=function(){var t=new vo(this.query.from),n=null!=this.query.w?new wo(this.query.w.Pb()):null,e=new Eo(this.query.from);return null===n?fe(t,e):(fe(n,e),fe(t,n)),new wu(t,this.query,this.Yb).jc()},v(Su,Co),Su.prototype.gb=function(t,n){return 2>n.from.length?t:(this.G=t,this.xb(this.G,n),this.G)},Su.prototype.xb=function(t,n){if(t instanceof wo&&t.O instanceof Br){var e=t.O.W(),i=he(t,0);i instanceof So&&(e=null!=n.cb&&n.cb.has(e),e=new Io(t.O,e),Cr(t,i,e,e),t==this.G&&(this.G=e),t=e)}ae(t).forEach(function(t){this.xb(t,n)},this)},v(Nu,Co),Nu.prototype.gb=function(t,n){return o(n.w)?(this.Vc.clear(),this.G=t,this.xb(this.G,n),this.Vc.clear(),this.G):t},Nu.prototype.xb=function(t,n){var e=function(t){ae(t).forEach(i)}.bind(this),i=function(t){if(!this.Vc.has(t)){if(t instanceof wo){var r=t.O.s(),o=function(t){return Au(this,t,r)}.bind(this),o=Tu(this,n,t,o);this.Vc.add(t),o!=t&&(null===o.getParent()&&(this.G=o),i(o))}e(t)}}.bind(this);i(t)},v(ju,bu),ju.prototype.cd=function(){Cu(this),2<=this.query.from.length&&(this.Ke=new So),this.uf=null!=this.query.w?new wo(this.query.w.Pb()):null,this.query.N&&(this.ff=new To(this.query.N)),null!=this.query.L&&0<this.query.L&&(this.vf=new jo(this.query.L)),null!=this.query.X&&(this.cf=new xo(this.query.X)),null!=this.query.la&&(this.Se=new qo(this.query.la)),Ou(this),this.mf=new No(this.query.f||[],this.query.la||null);var t=Iu(this);return new wu(t,this.query,this.Yb).jc()},Mu.prototype.create=function(t){var n=null;if(t instanceof Uo)n=new vu(t);else if(t instanceof Po)n=new Eu(t,this.Rd);else if(t instanceof Ae)n=new ju(t,this.se);else{if(!(t instanceof _o))throw new tn(513);n=new mu(t)}return n=n.jc(),new po(n,t.da())},v(ku,Qr),ku.prototype.toString=function(){return"delete("+this.U.getName()+")"},ku.prototype.ca=function(t,n){var e=t[0].entries.map(function(t){return t.va});return n.remove(this.U,e),[zn()]},v(Ru,Qr),Ru.prototype.toString=function(){return"get_row_count("+this.table.getName()+")"},Ru.prototype.ca=function(){var t=this.D.get(Hr(this.table)),n=new Pn([],[this.table.getName()]),e=$r(),t=t.Y().ia;return null===n.Za&&(n.Za=mt()),n.Za.set(e.j(),t),[n]},v(Du,Qr),Du.prototype.toString=function(){var t="table_access("+this.table.getName();return null===this.table.$a()||(t+=" as "+this.table.$a()),t+")"},Du.prototype.ca=function(){var t=this.D.get(Hr(this.table)).Ua();return[Wn(qi(this.V,t),[Kr(this.table)])]},v(Bu,Co),Bu.prototype.gb=function(t,n){if(this.G=t,!this.Jd(n))return t;var e=Or(t,function(t){return t instanceof Du})[0],i=new Ru(this.c,e.table);return Cr(e,e,i,i),this.G},Bu.prototype.Jd=function(t){return 1==t.f.length&&1==t.from.length&&null==t.w&&null==t.X&&null==t.L&&null==t.la?(t=t.f[0],t instanceof Vr&&"COUNT"==t.Ob&&t.child instanceof Yr):!1},v(Lu,Qr),Lu.prototype.toString=function(){return"groupBy("+this.Re.map(function(t){return t.j()}).toString()+")"},Lu.prototype.ca=function(t){return Pu(this,t[0])},v(Fu,Qr);var fc=["hash","index_nested_loop","nested_loop"];Fu.prototype.toString=function(){return"join(type: "+(this.Ub?"outer":"inner")+", impl: "+fc[this.Fd]+", "+this.O.toString()+")"},Fu.prototype.ca=function(t){switch(this.Fd){case 0:return[Ur(this.O,t[0],t[1],this.Ub)];case 1:return[_r(this.O,t[0],t[1],this.Ue,this.V)];default:var n=this.O,e=t[0];t=t[1];var i=this.Ub,r=[e,t];i||(r=Lr(n,e,t)),e=r[0],t=r[1];for(var r=[],o=e.s(),u=t.s(),s=e.entries.length,a=t.entries.length,h=a+256-1>>8,c=0;h>c;){for(var f=0;s>f;f++){var l=!1,p=Hn(e.entries[f],n.ga);if(null!==p)for(var d=Math.min(c+1<<8,a),y=c<<8;d>y;y++)if(n.yc(p,Hn(t.entries[y],n.na))){var l=!0,g=Xn(e.entries[f],o,t.entries[y],u);r.push(g)}i&&!l&&r.push(Fr(n,e.entries[f],o))}c++}return n=e.s().concat(t.s()),[new Pn(r,n)]}},v(_u,Qr),_u.prototype.toString=function(){return"no_op_step("+this.nf[0].s().join(",")+")"},_u.prototype.ca=i("nf"),v(zu,Co),zu.prototype.gb=function(t,n){return this.G=t,this.Jd(n)?(Or(t,function(t){return t instanceof Fu}).forEach(this.Ig,this),this.G):t},zu.prototype.Jd=function(t){return 1<t.from.length},zu.prototype.Ig=function(t){if("eq"==t.O.C&&!t.Ub){var n=function(n){return n instanceof Du?(n=Kr(n.table)==Kr(t.O.na.H())?t.O.na:t.O.ga,null===n.Ca()?null:n):null},e=n(he(t,0)),n=n(he(t,1));if(null!==e||null!==n){n=null===n?e:n,Uu(t,n);var i=new Pn([],[Kr(n.H())]);pe(t,new _u([i]),n==e?0:1)}}},Ju.prototype.dd=function(){return 1==this.Tb.f.length?[Cn()]:[this.Tb.f.map(function(){
return Cn()})]},Wu.prototype.dd=function(t){if(this.af==t)return this.Nd;for(var n=Ku(this,t),e=this.Tb.f.length-1;e>=0;e--){var i=this.Tb.f[e];if(null!==(n.get(i.ba.getName())||null))break;n.set(i.ba.getName(),new Bn([Cn()]))}return this.Nd=1==this.Tb.f.length?Et(n)[0].ra():Gu(Hu(this,n)),this.af=t,this.Nd},Vu.prototype.mg=function(t){return t instanceof ge?t.od()&&t.J.H()==this.zd&&!("in"==t.C&&t.value.length>Xu(this)):t instanceof kr&&t.od()&&he(t,0).J.H()==this.zd?ae(t).length<=Xu(this):!1},v(es,Qr),es.prototype.toString=function(){return"index_range_scan("+this.index.j()+", ?, "+(this.pe?"reverse":"natural")+(this.Tc?", limit:?":"")+(this.Uc?", skip:?":"")+")"},es.prototype.Sc=function(t){var n=this.toString(),e=this.$e.dd(t),n=n.replace("?",e.toString());return this.Tc&&(n=n.replace("?",t.X.toString())),this.Uc&&(n=n.replace("?",t.L.toString())),n},es.prototype.ca=function(t,n,e){return t=this.$e.dd(e),n=this.D.get(this.index.j()),e=(1==t.length&&t[0]instanceof xn&&Mn(t[0])?Ci(n.get(t[0].from),!1,this.Tc?e.X:void 0,this.Uc?e.L:void 0):n.Ua(t,this.pe,this.Tc?e.X:void 0,this.Uc?e.L:void 0)).map(function(t){return new St(t,{})},this),[Wn(e,[this.index.pc])]},v(is,Qr),is.prototype.toString=r("multi_index_range_scan()"),is.prototype.ca=function(t){var n=mt();t.forEach(function(t){t.entries.forEach(function(t){n.set(t.va.id(),t)})});var e=Et(n);return[new Pn(e,t[0].s())]},v(rs,Qr),rs.prototype.toString=r("select(?)"),rs.prototype.Sc=function(t){return t=Ee(t,this.mc),this.toString().replace("?",t.toString())},rs.prototype.ca=function(t,n,e){return[Ee(e,this.mc).eval(t[0])]},v(os,Qr),os.prototype.toString=function(){return"table_access_by_row_id("+this.U.getName()+")"},os.prototype.ca=function(t){return[Wn(qi(this.V,Un(t[0])),[Kr(this.U)])]},v(us,Co),us.prototype.gb=function(t,n){return this.G=t,Or(t,function(t){return t instanceof Du}).forEach(function(t){var e=ss(t);if(0!=e.length){var i=Yu(new Vu(this.c,t.table),n,e.map(function(t){return Ee(n,t.mc)}));if(null!==i){var r=mt();e.forEach(function(t){r.set(t.mc,t)},this),this.G=as(this,i,r,t)}}},this),this.G},v(hs,Qr),hs.prototype.toString=function(){return"insert("+this.U.getName()+")"},hs.prototype.ca=function(t,n,e){return cs(this.U,e.values,this.D),n.Db(this.U,e.values),[Wn(e.values,[this.U.getName()])]},v(fs,Qr),fs.prototype.toString=function(){return"insert_replace("+this.U.getName()+")"},fs.prototype.ca=function(t,n,e){return cs(this.U,e.values,this.D),n.Yd(this.U,e.values),[Wn(e.values,[this.U.getName()])]},v(ls,Qr),ls.prototype.toString=r("limit(?)"),ls.prototype.Sc=function(t){return this.toString().replace("?",t.X.toString())},ls.prototype.ca=function(t,n,e){return t[0].entries.splice(e.X),t},v(ps,Qr),ih=ps.prototype,ih.toString=function(){return"order_by("+qe(this.N)+")"},ih.ca=function(t){if(1==t.length){var n;n=t[0];for(var e=null,i=0;i<this.N.length;i++){var r=Zr(this.N[i].J);if(null!==n.Za&&n.Za.has(r.j())){e=r;break}}n=e,(null===n?t[0]:_n(t[0],n)).entries.sort(this.Wf.bind(this))}else t.sort(this.Lg.bind(this));return t},ih.$=function(t,n){var e=null,i=null,r=null,o=-1;do o++,r=this.N[o].J,e=this.N[o].sb,i=t(r),r=n(r);while(i==r&&o+1<this.N.length);return i=r>i?-1:i>r?1:0,1==e?i:-i},ih.Lg=function(t,n){return this.$(function(n){return n instanceof Vr?_n(t,n):Hn(t.entries[t.entries.length-1],n)},function(t){return t instanceof Vr?_n(n,t):Hn(n.entries[n.entries.length-1],t)})},ih.Wf=function(t,n){return this.$(function(n){return Hn(t,n)},function(t){return Hn(n,t)})},v(ms,Qr),ms.prototype.toString=function(){var t="project("+this.f.toString();if(null!==this.Sb)var n=this.Sb.map(function(t){return t.j()}).join(", "),t=t+(", groupBy("+n+")");return t+")"},ms.prototype.ca=function(t){return 0==t.length?t=[zn()]:1==t.length?(t=t[0],t=[0==this.f.length?t:ys(new ds(t,this.f))]):t=[vs(t,this.f)],t},v(Es,Qr),Es.prototype.toString=r("skip(?)"),Es.prototype.Sc=function(t){return this.toString().replace("?",t.L.toString())},Es.prototype.ca=function(t,n,e){return[new Pn(t[0].entries.slice(e.L),t[0].s())]},v(Ss,Co),Ss.prototype.gb=function(t,n){if(!o(n.X)&&!o(n.L))return t;var e=Ns(t);return null===e?t:(Or(t,function(t){return t instanceof ls||t instanceof Es}).forEach(function(t){t instanceof ls?e.Tc=!0:e.Uc=!0,qr(t)},this),e.ab())},v(Ts,Co),Ts.prototype.gb=function(t,n){this.G=t;var e=As(this,n);if(0==e.length)return this.G;var i=null,r=null,o=0;do r=e[o++],i=xs(this,r,n);while(null===i&&o<e.length);return null===i?this.G:(e=qs(this,i[0].bb.pc),null===e?this.G:this.G=js(this,r,e,i))},v(Is,Co),Is.prototype.gb=function(t,n){var e=Ms(t,n);if(null===e)return t;var i;t:{var r=e;if(i=Os(he(e,0)),null!==i){var o;o=e.N;for(var u=null,s=i.table.Da(),a=0;a<s.length&&null===u;a++)u=ks(s[a],o);if(o=u,null===o){i=r;break t}r=new es(this.c,o.bb,new Ju(o.bb),o.Xe),o=new os(this.c,i.table),fe(o,r),qr(e),r=Cr(i,i,o,r)}i=r}if(i==e)t:if(i=e,r=Cs(he(e,0)),null!==r){if(o=ks(r.index,e.N),null===o)break t;r.pe=o.Xe,i=qr(e).parent}return i.ab()},Ds.prototype.jc=function(){return this.Yb.forEach(function(t){this.Ha=t.gb(this.Ha,this.le)},this),this.Ha},v(Bs,Qr),Bs.prototype.toString=function(){return"update("+this.U.getName()+")"},Bs.prototype.ca=function(t,n,e){return t=t[0].entries.map(function(t){var n=this.U.mb(t.va.Ja());return e.set.forEach(function(t){n.m[t.J.getName()]=t.value},this),n},this),n.update(this.U,t),[zn()]},Ls.prototype.create=function(t,n){var e=t.ab();if(e instanceof bo||e instanceof go)return Ps(this,t,n);if(e instanceof No||e instanceof xo||e instanceof jo)return Ps(this,t,n,this.se);if(e instanceof vo||e instanceof mo)return Ps(this,t,n,this.Rd);throw new tn(8)},Ls.prototype.vg=function(t){if(t instanceof No)return new ms(t.f,t.Sb);if(t instanceof qo)return new Lu(t.f);if(t instanceof Ao)return new io(t.f);if(t instanceof To)return new ps(t.N);if(t instanceof jo)return new Es;if(t instanceof xo)return new ls;if(t instanceof wo)return new rs(t.O.W());if(t instanceof So)return new Do;if(t instanceof Io)return new Fu(this.c,t.O,t.Ub);if(t instanceof Eo)return new Du(this.c,t.table);if(t instanceof vo)return new ku(t.table);if(t instanceof mo)return new Bs(t.table);if(t instanceof bo)return new fs(this.c,t.table);if(t instanceof go)return new hs(this.c,t.table);throw new tn(514)},Us.prototype.releaseLock=function(t,n){n.forEach(function(n){_s(this,n).releaseLock(t)},this)},Ks.prototype.releaseLock=function(t){this.zc==t&&(this.zc=null),this.eb==t&&(this.eb=null),null===this.Xa||this.Xa["delete"](t),null===this.ac||this.ac["delete"](t)},Hs.prototype.Dg=function(t,n){this.Hc.releaseLock(t.W(),t.da()),t.Rb().resolve(n),Xs(this)},Hs.prototype.Cg=function(t,n){this.Hc.releaseLock(t.W(),t.da()),t.Rb().reject(n),Xs(this)},$s.prototype.Db=function(t){Ii(this.Xb,t,function(t,n){var e=t.getPriority()-n.getPriority();return 0==e?t.W()-n.W():e})},$s.prototype.ra=function(){return this.Xb.slice()},$s.prototype.remove=function(t){var n=this.Xb;t=hh(n,t);var e;return(e=t>=0)&&Array.prototype.splice.call(n,t,1),e};var lc;Zs.prototype.clear=function(){this.Qc.clear()},Zs.prototype.clear=Zs.prototype.clear,Zs.prototype.ub=function(t,n){return this.Qc.set(t.toString(),n),n},Zs.prototype.registerService=Zs.prototype.ub,Zs.prototype.b=function(t){var n=this.Qc.get(t.toString())||null;if(null===n)throw new tn(7,t.toString());return n},Zs.prototype.getService=Zs.prototype.b,Zs.prototype.pd=function(t){return this.Qc.has(t.toString())},Zs.prototype.isRegistered=Zs.prototype.pd,sa.prototype.$=function(t,n){return this.K.every(function(e){return Qn(this.Sd,e.I(),"eq")(Hn(t,e),Hn(n,e))},this)},fa.prototype.Ed=function(t,n){var e=l(t.query).toString(),i=this.ic.get(e)||null;null===i&&(i=new da(t),this.ic.set(e,i)),i.Ed(n)},fa.prototype.ne=function(t,n){var e=l(t.query).toString(),i=this.ic.get(e)||null;i.ne(n),0<i.Kc.size||this.ic["delete"](e)},da.prototype.Ed=function(t){this.Kc.has(t)||this.Kc.add(t)},da.prototype.ne=function(t){return this.Kc["delete"](t)},da.prototype.Ec=function(){var t=this.Jf;return{context:t.query,ke:iu(t)}},ih=ba.prototype,ih.exec=function(){var t=va(this),t=new Kn(new St(-1,t),!0);return U([new Pn([t],[])])},ih.I=r(0),ih.da=i("aa"),ih.Rb=i("fb"),ih.W=function(){return l(this)},ih.getPriority=r(0),ih=ma.prototype,ih.exec=function(){if(!(this.Na instanceof oi||this.Na instanceof fi||this.Na instanceof Si))throw new tn(300);var t;t:{t=this.g.pa();for(var n=0;n<t.length;++n)if(0<this.D.get(Hr(t[n])).Y().ia){t=!1;break t}t=!0}if(!t)throw new tn(110);if(this.g.name()!=this.Ba.name||this.g.version()!=this.Ba.version)throw new tn(111);if(null==this.Ba.tables)throw new tn(112);return wa(this)},ih.I=r(1),ih.da=i("aa"),ih.Rb=i("fb"),ih.W=function(){return l(this)},ih.getPriority=r(0),ih=Ea.prototype,ih.exec=function(){return this.Ae.resolve(),this.Ac.ha},ih.I=r(1),ih.da=i("aa"),ih.Rb=i("fb"),ih.W=function(){return l(this)},ih.getPriority=r(2),ih.ka=function(){return this.ja=this.Na.Hb(this.I(),Pt(this.aa),this.Qa),this.ja.ka().then(function(){this.Pc(),this.Ac.resolve()}.bind(this),function(t){this.Qa.Mb(),this.Ac.reject(t)}.bind(this)),this.fb.ha},ih.Mb=function(){return this.Qa.Mb(),this.Ac.resolve(),this.fb.ha},ih.Pc=function(){var t=la(this.Lb,this.aa);0!=t.length&&(t=new Oe(this.c,t),Vs(this.Ia,t))},ih.Y=function(){var t=null;return null!=this.ja&&(t=this.ja.Y()),null===t?new qt(!1,0,0,0,0):t},b("lf.proc.Transaction",Ta);var pc=mt();Ta.prototype.exec=function(t){Aa(this,4);var n=[];try{t.forEach(function(t){t.kb(),n.push(t.Ec())},this)}catch(e){return Aa(this,7),_(e)}return this.Nb=new Bo(this.c,n),Vs(this.Ia,this.Nb).then(function(t){return Aa(this,7),t.map(function(t){return Fn(t)})}.bind(this),function(t){throw Aa(this,7),t}.bind(this))},Ta.prototype.exec=Ta.prototype.exec,Ta.prototype.Hf=function(t){return Aa(this,1),this.Nb=new Ea(this.c,t),Sa(this.Nb).then(function(){Aa(this,2)}.bind(this))},Ta.prototype.begin=Ta.prototype.Hf,Ta.prototype.Gf=function(t){return Aa(this,3),Na(this.Nb,t).then(function(t){return Aa(this,2),t}.bind(this),function(t){throw Aa(this,7),t}.bind(this))},Ta.prototype.attach=Ta.prototype.Gf,Ta.prototype.ka=function(){return Aa(this,5),this.Nb.ka().then(function(){Aa(this,7)}.bind(this))},Ta.prototype.commit=Ta.prototype.ka,Ta.prototype.Mb=function(){return Aa(this,6),this.Nb.Mb().then(function(){Aa(this,7)}.bind(this))},Ta.prototype.rollback=Ta.prototype.Mb,Ta.prototype.Y=function(){if(7!=this.Sa)throw new tn(105);return this.Nb.Y()},Ta.prototype.stats=Ta.prototype.Y,b("lf.proc.Database",qa),qa.prototype.Ea=function(t){return this.c.ub(Yh,this.g),ga(this.c,t).then(function(){return this.ld=!0,this.Ia=this.c.b(Vh),this}.bind(this))},qa.prototype.init=qa.prototype.Ea,qa.prototype.Cb=i("g"),qa.prototype.getSchema=qa.prototype.Cb,qa.prototype.select=function(t){return xa(this),new au(this.c,1!=arguments.length||null!=arguments[0]?Array.prototype.slice.call(arguments):[])},qa.prototype.select=qa.prototype.select,qa.prototype.Db=function(){return xa(this),new ou(this.c)},qa.prototype.insert=qa.prototype.Db,qa.prototype.Yd=function(){return xa(this),new ou(this.c,!0)},qa.prototype.insertOrReplace=qa.prototype.Yd,qa.prototype.update=function(t){return xa(this),new gu(this.c,t)},qa.prototype.update=qa.prototype.update,qa.prototype["delete"]=function(){return xa(this),new ru(this.c)},qa.prototype["delete"]=qa.prototype["delete"],qa.prototype.observe=function(t,n){xa(this),this.c.b(Xh).Ed(t,n)},qa.prototype.observe=qa.prototype.observe,qa.prototype.unobserve=function(t,n){xa(this),this.c.b(Xh).ne(t,n)},qa.prototype.unobserve=qa.prototype.unobserve,qa.prototype.Qf=function(){return xa(this),new Ta(this.c)},qa.prototype.createTransaction=qa.prototype.Qf,qa.prototype.close=function(){try{this.c.b(Jh).close()}catch(t){}this.c.clear(),this.ld=!1},qa.prototype.close=qa.prototype.close,qa.prototype.$f=function(){xa(this);var t=new ba(this.c);return Vs(this.Ia,t).then(function(t){return Fn(t[0])[0]})},qa.prototype["export"]=qa.prototype.$f,qa.prototype["import"]=function(t){return xa(this),t=new ma(this.c,t),Vs(this.Ia,t).then(r(null))},qa.prototype["import"]=qa.prototype["import"],b("lf.schema.BaseColumn",ja),ih=ja.prototype,ih.getName=i("A"),ih.j=function(){return Kr(this.U)+"."+this.A},ih.toString=function(){return this.j()},ih.H=i("U"),ih.I=i("zf"),ja.prototype.getType=ja.prototype.I,ja.prototype.$a=i("jb"),ja.prototype.Da=function(){return null==this.ta&&(this.ta=[],this.H().Da().forEach(function(t){-1!=t.f.map(function(t){return t.ba.getName()}).indexOf(this.A)&&this.ta.push(t)},this)),this.ta},ja.prototype.Ca=function(){if(!o(this.fa)){var t=this.Da().filter(function(t){return 1!=t.f.length?!1:t.f[0].ba.getName()==this.getName()},this);this.fa=0<t.length?t[0]:null}return this.fa},ja.prototype.kc=i("We"),ja.prototype.isNullable=ja.prototype.kc,ja.prototype.Gc=i("Ye"),ja.prototype.Pa=function(t){return zr(this,t,"eq")},ja.prototype.eq=ja.prototype.Pa,ja.prototype.ef=function(t){return zr(this,t,"neq")},ja.prototype.neq=ja.prototype.ef,ja.prototype.tg=function(t){return zr(this,t,"lt")},ja.prototype.lt=ja.prototype.tg,ja.prototype.ug=function(t){return zr(this,t,"lte")},ja.prototype.lte=ja.prototype.ug,ja.prototype.cg=function(t){return zr(this,t,"gt")},ja.prototype.gt=ja.prototype.cg,ja.prototype.dg=function(t){return zr(this,t,"gte")},ja.prototype.gte=ja.prototype.dg,ja.prototype.match=function(t){return zr(this,t,"match")},ja.prototype.match=ja.prototype.match,ja.prototype.If=function(t,n){return zr(this,[t,n],"between")},ja.prototype.between=ja.prototype.If,ja.prototype.eg=function(t){return zr(this,t,"in")},ja.prototype["in"]=ja.prototype.eg,ja.prototype.og=function(){return this.Pa(null)},ja.prototype.isNull=ja.prototype.og,ja.prototype.ng=function(){return this.ef(null)},ja.prototype.isNotNull=ja.prototype.ng,ja.prototype.uc=function(t){return new ja(this.U,this.A,this.Ye,this.We,this.zf,t)},ja.prototype.as=ja.prototype.uc,b("lf.schema.Constraint",Ba),Ba.prototype.ed=i("Hg"),Ba.prototype.getPrimaryKey=Ba.prototype.ed,Ba.prototype.Xd=i("ag"),Ba.prototype.getForeignKeys=Ba.prototype.Xd,b("lf.schema.TableBuilder",Pa);var dc=Lt([0,6]);Pa.prototype.Bf=function(t,n){return Ua(t),_a(this,t),this.K.set(t,n),dc.has(n)&&this.Ce([t]),this},Pa.prototype.addColumn=Pa.prototype.Bf,Pa.prototype.Df=function(t,n){var e=this.A;return this.Fa="pk"+(e[0].toUpperCase()+e.substring(1)),Ua(this.Fa),_a(this,this.Fa),e=Ha(this,t,!0,void 0,n),za(this,e),1==e.length&&this.Bd.add(e[0].name),this.qc.add(this.Fa),this.ta.set(this.Fa,e),this},Pa.prototype.addPrimaryKey=Pa.prototype.Df,Pa.prototype.Cf=function(t,n){Ua(t),_a(this,t);var e=new La(n,this.A,t);if(o(e.action)||(e.action=0),o(e.timing)||(e.timing=0),1==e.action&&1==e.timing)throw new tn(506);if(!this.K.has(e.yb))throw new tn(540,t);return this.Bb.push(e),this.Be(t,[e.yb],this.Bd.has(e.yb)),this},Pa.prototype.addForeignKey=Pa.prototype.Cf,Pa.prototype.Ef=function(t,n){Ua(t),_a(this,t);var e=Ha(this,n,!0);return 1==e.length&&(this.Bd.add(e[0].name),Ka(this,e[0].name)),this.ta.set(t,e),this.qc.add(t),this},Pa.prototype.addUnique=Pa.prototype.Ef,Pa.prototype.Ce=function(t){return Ha(this,t,!1).forEach(function(t){this.qd.add(t.name)},this),this},Pa.prototype.addNullable=Pa.prototype.Ce,Pa.prototype.Be=function(t,n,e,i){return Ua(t),_a(this,t),n=Ha(this,n,!0,i),e&&this.qc.add(t),this.ta.set(t,n),this},Pa.prototype.addIndex=Pa.prototype.Be,Pa.prototype.Fb=e("ud"),Pa.prototype.persistentIndex=Pa.prototype.Fb,Pa.prototype.Cb=function(){return Ga(this),Ja(this),Wa(this),new(Va(this))},Pa.prototype.getSchema=Pa.prototype.Cb,b("lf.schema.Builder",Ya),Ya.prototype.Mf=function(t){t.Bb.forEach(function(t){this.wb.get(t.Wa).Bb.forEach(function(n){if(n.yb==t.Mc)throw new tn(534,t.name)},this)},this)},Ya.prototype.Cb=function(){return this.Bc||Za(this),this.g},Ya.prototype.getSchema=Ya.prototype.Cb,Ya.prototype.Qe=function(){var t=new Mt("ns_"+this.g.name()),n=Qs(),e=null;return n.pd(t)?e=n.b(t):(e=new Zs,n.ub(t,e)),e},Ya.prototype.getGlobal=Ya.prototype.Qe,Ya.prototype.connect=function(t){if(null!==this.i&&this.i.ld)throw new tn(113);if(null===this.i){var n=this.Qe();n.pd(Yh)||n.ub(Yh,this.Cb()),this.i=new qa(n)}return this.i.Ea(t)},Ya.prototype.connect=Ya.prototype.connect,Ya.prototype.Pf=function(t){if(this.wb.has(t))throw new tn(503,t);if(this.Bc)throw new tn(535);return this.wb.set(t,new Pa(t)),this.wb.get(t)},Ya.prototype.createTable=Ya.prototype.Pf,Ya.prototype.te=function(t){if(this.Bc)throw new tn(535);return this.g.te(t),this},Ya.prototype.setPragma=Ya.prototype.te,b("lf.schema.DatabaseSchema",eh),eh.prototype.name=i("A"),eh.prototype.name=eh.prototype.name,eh.prototype.version=i("Ta"),eh.prototype.version=eh.prototype.version,eh.prototype.pa=function(){return Et(this.M)},eh.prototype.tables=eh.prototype.pa,eh.prototype.table=function(t){if(!this.M.has(t))throw new tn(101,t);return this.M.get(t)},eh.prototype.table=eh.prototype.table,eh.prototype.info=function(){return this.Ve||(this.Ve=new Ia(this)),this.Ve},eh.prototype.kf=i("lf"),eh.prototype.pragma=eh.prototype.kf,eh.prototype.te=e("lf"),b("lf.schema.create",function(t,n){return new Ya(t,n)}),L.prototype["catch"]=L.prototype.we,L.prototype["catch"]=L.prototype["catch"];try{t&&(t.exports=lf)}catch(yc){}}.bind(window)()}).call(n,e(6)(t))},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}]);